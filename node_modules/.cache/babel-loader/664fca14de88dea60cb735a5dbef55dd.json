{"ast":null,"code":"import _classCallCheck from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/home.js\";\nimport React, { Component } from \"react\";\nimport { Container, Row, Col, Card, CardBody, CardHeader, Input } from \"reactstrap\";\nimport { Bar, Line } from \"react-chartjs-2\";\nimport { CustomTooltips } from \"../../node_modules/@coreui/coreui-plugin-chartjs-custom-tooltips\";\nimport { getDashboardSummary, getAllCreators, getTopCreators, getTopSubscriber, getCreatorsPerMonth, getSubscribersPerMonth, getAllUsers } from \"../http/http-calls\"; // import { ToastsStore } from \"react-toasts\";\n\nimport config from \"../config\";\nimport moment from \"moment\";\nimport { formatCurrencyValue, showToast } from \"../helper-methods\";\nvar options = {\n  tooltips: {\n    enabled: false,\n    custom: CustomTooltips\n  },\n  maintainAspectRatio: false,\n  legend: false\n};\n\nvar Home = /*#__PURE__*/function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      creatorList: [],\n      summary: {\n        creators: 0,\n        subscribers: 0,\n        ppvs: 0,\n        subscriptions: 0,\n        tips: 0\n      },\n      filterOptions: [{\n        label: \"This Week\",\n        value: \"week\"\n      }, {\n        label: \"This Month\",\n        value: \"month\"\n      }, {\n        label: \"This Year\",\n        value: \"year\"\n      }],\n      filters: {\n        topCreator: \"week\",\n        topSubscriber: \"week\",\n        creator: \"\"\n      },\n      topCreatorChartData: {},\n      topSubscriberChartData: {},\n      creatorsPerMonthChartData: {},\n      subscribersPerMonthChartData: {},\n      loading: {\n        topCreator: false,\n        topSubscriber: false,\n        creatorsPerMonth: false,\n        subscribersPerMonth: false\n      }\n    };\n\n    _this._manageLoading = function (key, value) {\n      var _this$state$loading = _this.state.loading,\n          topCreator = _this$state$loading.topCreator,\n          topSubscriber = _this$state$loading.topSubscriber,\n          creatorsPerMonth = _this$state$loading.creatorsPerMonth,\n          subscribersPerMonth = _this$state$loading.subscribersPerMonth;\n\n      if (key === \"topCreator\") {\n        topCreator = value;\n      } else if (key === \"topSubscriber\") {\n        topSubscriber = value;\n      } else if (key === \"creatorsPerMonth\") {\n        creatorsPerMonth = value;\n      } else if (key === \"subscribersPerMonth\") {\n        subscribersPerMonth = value;\n      }\n\n      _this.setState({\n        loading: {\n          topCreator: topCreator,\n          topSubscriber: topSubscriber,\n          creatorsPerMonth: creatorsPerMonth,\n          subscribersPerMonth: subscribersPerMonth\n        }\n      });\n    };\n\n    _this._getDashboardSummary = function () {\n      console.log(\"getDashboardSummary\");\n      getDashboardSummary().then(function (response) {\n        console.log(response);\n        var summary = {\n          creators: response.creators,\n          subscribers: response.fans,\n          liveEvents: formatCurrencyValue(response.liveEvents),\n          payperviews: formatCurrencyValue(response.payperviews),\n          subscriptions: formatCurrencyValue(response.subscriptions),\n          tips: formatCurrencyValue(response.tips),\n          unlocks: formatCurrencyValue(response.unlocks),\n          vaults: formatCurrencyValue(response.vaults)\n        };\n\n        _this.setState({\n          summary: summary\n        });\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this._getAllCreators = function () {\n      // this._manageLoading('data', true);\n      getAllCreators().then(function (response) {\n        console.log(response); // this._manageLoading('data', false);\n\n        var creatorList = response.influencers.map(function (each) {\n          return {\n            name: each.name.full,\n            id: each.id\n          };\n        });\n\n        _this.setState({\n          creatorList: creatorList\n        });\n      }, function (error) {\n        console.log(error); // this._manageLoading('data', false);\n        // ToastsStore.error(error.reason, 3000);\n      });\n    };\n\n    _this._getAllUsers = function () {\n      getAllUsers().then(function (response) {\n        console.log(\"response :\", response);\n        var creatorList = response.influencers.map(function (each) {\n          return {\n            name: each.name.full,\n            id: each.id\n          };\n        });\n\n        _this.setState({\n          creatorList: creatorList\n        });\n      }, function (error) {\n        console.log(\"error :\", error);\n        showToast(error.reason && error.reason.length ? error.reason : \"Server error. Try again after sometime.\", \"error\");\n      });\n    };\n\n    _this._getTopCreators = function (data) {\n      getTopCreators(data).then(function (response) {\n        var topCreator = response.influencers.sort(function (a, b) {\n          return b._subCount - a._subCount;\n        });\n        topCreator = topCreator.slice(0, 10);\n        console.log(topCreator);\n        var topCreatorChartData = {\n          labels: topCreator.map(function (e, i) {\n            return e.name.full;\n          }),\n          datasets: [{\n            label: \"\",\n            backgroundColor: \"rgba(95, 66, 170, 0.3)\",\n            borderColor: \"rgba(95, 66, 170, 1)\",\n            borderWidth: 1,\n            hoverBackgroundColor: \"rgba(95, 66, 170, 0.5)\",\n            hoverBorderColor: \"rgba(95, 66, 170, 1)\",\n            data: topCreator.map(function (e, i) {\n              return e._subCount;\n            })\n          }]\n        };\n\n        _this.setState({\n          topCreatorChartData: topCreatorChartData\n        });\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this._getTopSubscriber = function (data) {\n      getTopSubscriber(data).then(function (response) {\n        var topSubscriber = response.fans.sort(function (a, b) {\n          return b._subCount - a._subCount;\n        });\n        topSubscriber = topSubscriber.slice(0, 10);\n        var topSubscriberChartData = {\n          labels: topSubscriber.map(function (e, i) {\n            return e.name.full.substring(0, 10);\n          }),\n          datasets: [{\n            label: \"\",\n            backgroundColor: \"rgba(95, 66, 170, 0.3)\",\n            borderColor: \"rgba(95, 66, 170, 1)\",\n            borderWidth: 1,\n            hoverBackgroundColor: \"rgba(95, 66, 170, 0.5)\",\n            hoverBorderColor: \"rgba(95, 66, 170, 1)\",\n            data: topSubscriber.map(function (e, i) {\n              return e._subCount;\n            })\n          }]\n        };\n\n        _this.setState({\n          topSubscriberChartData: topSubscriberChartData\n        });\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this._getCreatorsPerMonth = function () {\n      getCreatorsPerMonth().then(function (response) {\n        console.log(response.influencers);\n        var creatorsData = config.monthList.map(function (each, index) {\n          var creator = response.influencers.find(function (item) {\n            return item._id.month === index + 1;\n          });\n\n          if (creator) {\n            return creator.count;\n          } else {\n            return 0;\n          }\n        });\n        var creatorsPerMonthChartData = {\n          labels: config.monthList,\n          datasets: [{\n            label: \"\",\n            fill: false,\n            lineTension: 0.1,\n            backgroundColor: \"rgba(95, 66, 170, 0.4)\",\n            borderColor: \"rgba(95, 66, 170,1)\",\n            borderCapStyle: \"butt\",\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: \"miter\",\n            pointBorderColor: \"rgba(255, 64, 159, 1)\",\n            pointBackgroundColor: \"#fff\",\n            pointBorderWidth: 5,\n            pointHoverRadius: 8,\n            pointHoverBackgroundColor: \"rgba(95, 66, 170, 1)\",\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",\n            pointHoverBorderWidth: 2,\n            pointRadius: 1,\n            pointHitRadius: 10,\n            data: creatorsData\n          }]\n        };\n\n        _this.setState({\n          creatorsPerMonthChartData: creatorsPerMonthChartData\n        });\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this._getSubscribersPerMonth = function () {\n      var data = {};\n\n      if (_this.state.filters.creator) {\n        data.id = _this.state.filters.creator;\n      }\n\n      getSubscribersPerMonth(data).then(function (response) {\n        var subscriberData = config.monthList.map(function (each, index) {\n          var subscriber = response.subscriptions.find(function (item) {\n            return item._id.month === index + 1;\n          });\n\n          if (subscriber) {\n            return subscriber.count;\n          } else {\n            return 0;\n          }\n        });\n        var subscribersPerMonthChartData = {\n          labels: config.monthList,\n          datasets: [{\n            label: \"\",\n            fill: false,\n            lineTension: 0.1,\n            backgroundColor: \"rgba(95, 66, 170, 0.4)\",\n            borderColor: \"rgba(95, 66, 170,1)\",\n            borderCapStyle: \"butt\",\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: \"miter\",\n            pointBorderColor: \"rgba(255, 64, 159, 1)\",\n            pointBackgroundColor: \"#fff\",\n            pointBorderWidth: 5,\n            pointHoverRadius: 8,\n            pointHoverBackgroundColor: \"rgba(95, 66, 170, 1)\",\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",\n            pointHoverBorderWidth: 2,\n            pointRadius: 1,\n            pointHitRadius: 10,\n            data: subscriberData\n          }]\n        };\n\n        _this.setState({\n          subscribersPerMonthChartData: subscribersPerMonthChartData\n        });\n      }, function (error) {\n        console.log(error);\n      });\n    };\n\n    _this._handleOnchange = function (_ref, key) {\n      var currentTarget = _ref.currentTarget;\n      var filters = _this.state.filters;\n      filters[currentTarget.name] = currentTarget.value;\n\n      _this.setState({\n        filters: filters\n      });\n\n      if (key === \"topCreator\") {\n        console.log(filters.topCreator);\n\n        if (filters.topCreator === \"week\") {\n          var today = moment();\n          var startdate = today.startOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n          var enddate = today.endOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          _this._getTopCreators({\n            startdate: startdate,\n            enddate: enddate\n          });\n        } else if (filters.topCreator === \"month\") {\n          var _today = moment();\n\n          var _startdate = _today.startOf(\"month\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          var _enddate = _today.endOf(\"month\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          _this._getTopCreators({\n            startdate: _startdate,\n            enddate: _enddate\n          });\n        } else {\n          var _today2 = moment();\n\n          var _startdate2 = _today2.startOf(\"year\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          var _enddate2 = _today2.endOf(\"year\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          _this._getTopCreators({\n            startdate: _startdate2,\n            enddate: _enddate2\n          });\n        }\n      } else {\n        if (filters.topSubscriber === \"week\") {\n          var _today3 = moment();\n\n          var _startdate3 = _today3.startOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          var _enddate3 = _today3.endOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          _this._getTopSubscriber({\n            startdate: _startdate3,\n            enddate: _enddate3\n          });\n        } else if (filters.topSubscriber === \"month\") {\n          var _today4 = moment();\n\n          var _startdate4 = _today4.startOf(\"month\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          var _enddate4 = _today4.endOf(\"month\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          _this._getTopSubscriber({\n            startdate: _startdate4,\n            enddate: _enddate4\n          });\n        } else {\n          var _today5 = moment();\n\n          var _startdate5 = _today5.startOf(\"year\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          var _enddate5 = _today5.endOf(\"year\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n          _this._getTopSubscriber({\n            startdate: _startdate5,\n            enddate: _enddate5\n          });\n        }\n      }\n    };\n\n    _this._getWeeklyTopCreators = function () {\n      var today = moment();\n      var startdate = today.startOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n      var enddate = today.endOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n      _this._getTopCreators({\n        startdate: startdate,\n        enddate: enddate\n      });\n    };\n\n    _this._getWeeklyTopSubscribers = function () {\n      var today = moment();\n      var startdate = today.startOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n      var enddate = today.endOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n\n      _this._getTopSubscriber({\n        startdate: startdate,\n        enddate: enddate\n      });\n    };\n\n    _this._onSelectCreator = function (_ref2) {\n      var currentTarget = _ref2.currentTarget;\n      var filters = _this.state.filters;\n      filters[currentTarget.name] = currentTarget.value;\n\n      _this.setState({\n        filters: filters\n      });\n\n      _this._getSubscribersPerMonth();\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._getDashboardSummary(); // this._getAllCreators();\n\n\n      this._getAllUsers();\n\n      this._getWeeklyTopCreators();\n\n      this._getWeeklyTopSubscribers();\n\n      this._getCreatorsPerMonth();\n\n      this._getSubscribersPerMonth();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          summary = _this$state.summary,\n          filters = _this$state.filters,\n          filterOptions = _this$state.filterOptions,\n          topCreatorChartData = _this$state.topCreatorChartData,\n          topSubscriberChartData = _this$state.topSubscriberChartData,\n          creatorsPerMonthChartData = _this$state.creatorsPerMonthChartData,\n          subscribersPerMonthChartData = _this$state.subscribersPerMonthChartData,\n          creatorList = _this$state.creatorList;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app TruFansPgBg animated fadeIn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"PgTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 17\n        }\n      }, \"Dashboard\"))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"6\",\n        md: \"6\",\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 17\n        }\n      }, \"Influencers\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bgIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 17\n        }\n      }, summary.creators))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"6\",\n        md: \"6\",\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 17\n        }\n      }, \"Subscribers\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bgIcon\",\n        style: {\n          right: \"-5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-user-follow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 17\n        }\n      }, summary.subscribers))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"6\",\n        md: \"6\",\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 17\n        }\n      }, \"Subscription Fees\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bgIcon\",\n        style: {\n          right: \"-7px\",\n          top: \"-21px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-dollar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 17\n        }\n      }, summary.subscriptions))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"6\",\n        md: \"6\",\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 17\n        }\n      }, \"Live Events\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bgIcon\",\n        style: {\n          right: \"-7px\",\n          top: \"-21px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-calendar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 17\n        }\n      }, summary.liveEvents))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"6\",\n        md: \"6\",\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 17\n        }\n      }, \"PPV\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bgIcon\",\n        style: {\n          right: \"-7px\",\n          top: \"-21px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-dollar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 17\n        }\n      }, summary.payperviews))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"6\",\n        md: \"6\",\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 17\n        }\n      }, \"Vault\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bgIcon\",\n        style: {\n          right: \"-7px\",\n          top: \"-21px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-lock\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 17\n        }\n      }, summary.vaults))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"6\",\n        md: \"6\",\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 17\n        }\n      }, \"Unlock\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bgIcon\",\n        style: {\n          right: \"-7px\",\n          top: \"-21px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-unlock\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 17\n        }\n      }, summary.unlocks)))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard-Graph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"d-flex justify-content-between align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 17\n        }\n      }, \"Top 10 Creators\", /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        name: \"topCreator\",\n        style: {\n          width: \"130px\"\n        },\n        value: filters.topCreator,\n        onChange: function onChange(e) {\n          return _this2._handleOnchange(e, \"topCreator\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 21\n        }\n      }, \"Select\"), filterOptions.map(function (each) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: each.value,\n          key: each.label,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 23\n          }\n        }, each.label);\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chart-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Bar, {\n        data: topCreatorChartData,\n        options: options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 21\n        }\n      }))))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard-Graph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"d-flex justify-content-between align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 17\n        }\n      }, \"Top 10 Subscribers\", /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        name: \"topSubscriber\",\n        style: {\n          width: \"130px\"\n        },\n        value: filters.topSubscriber,\n        onChange: function onChange(e) {\n          return _this2._handleOnchange(e, \"topSubscriber\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 21\n        }\n      }, \"Select\"), filterOptions.map(function (each) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: each.value,\n          key: each.label,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 23\n          }\n        }, each.label);\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chart-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Bar, {\n        data: topSubscriberChartData,\n        options: options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 21\n        }\n      }))))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard-Graph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 17\n        }\n      }, \"No. of Creators joined per month\"), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chart-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Line, {\n        data: creatorsPerMonthChartData,\n        options: options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 21\n        }\n      }))))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        md: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"dashboardCard-Graph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"d-flex justify-content-between align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 17\n        }\n      }, \"No. of Subscribers joined per month\", /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        name: \"creator\",\n        id: \"\",\n        style: {\n          width: \"130px\"\n        },\n        value: filters.creator,\n        onChange: this._onSelectCreator,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 21\n        }\n      }, \"All\"), creatorList.map(function (each) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: each.id,\n          value: each.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 23\n          }\n        }, each.name);\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chart-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Line, {\n        data: subscribersPerMonthChartData,\n        options: options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 21\n        }\n      })))))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/home.js"],"names":["React","Component","Container","Row","Col","Card","CardBody","CardHeader","Input","Bar","Line","CustomTooltips","getDashboardSummary","getAllCreators","getTopCreators","getTopSubscriber","getCreatorsPerMonth","getSubscribersPerMonth","getAllUsers","config","moment","formatCurrencyValue","showToast","options","tooltips","enabled","custom","maintainAspectRatio","legend","Home","state","creatorList","summary","creators","subscribers","ppvs","subscriptions","tips","filterOptions","label","value","filters","topCreator","topSubscriber","creator","topCreatorChartData","topSubscriberChartData","creatorsPerMonthChartData","subscribersPerMonthChartData","loading","creatorsPerMonth","subscribersPerMonth","_manageLoading","key","setState","_getDashboardSummary","console","log","then","response","fans","liveEvents","payperviews","unlocks","vaults","error","_getAllCreators","influencers","map","each","name","full","id","_getAllUsers","reason","length","_getTopCreators","data","sort","a","b","_subCount","slice","labels","e","i","datasets","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","_getTopSubscriber","substring","_getCreatorsPerMonth","creatorsData","monthList","index","find","item","_id","month","count","fill","lineTension","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","_getSubscribersPerMonth","subscriberData","subscriber","_handleOnchange","currentTarget","today","startdate","startOf","format","enddate","endOf","_getWeeklyTopCreators","_getWeeklyTopSubscribers","_onSelectCreator","right","top","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardHeader,\n  Input,\n} from \"reactstrap\";\nimport { Bar, Line } from \"react-chartjs-2\";\nimport { CustomTooltips } from \"../../node_modules/@coreui/coreui-plugin-chartjs-custom-tooltips\";\nimport {\n  getDashboardSummary,\n  getAllCreators,\n  getTopCreators,\n  getTopSubscriber,\n  getCreatorsPerMonth,\n  getSubscribersPerMonth,\n  getAllUsers,\n} from \"../http/http-calls\";\n// import { ToastsStore } from \"react-toasts\";\nimport config from \"../config\";\nimport moment from \"moment\";\nimport { formatCurrencyValue, showToast } from \"../helper-methods\";\nconst options = {\n  tooltips: {\n    enabled: false,\n    custom: CustomTooltips,\n  },\n  maintainAspectRatio: false,\n  legend: false,\n};\n\nclass Home extends Component {\n  state = {\n    creatorList: [],\n    summary: {\n      creators: 0,\n      subscribers: 0,\n      ppvs: 0,\n      subscriptions: 0,\n      tips: 0,\n    },\n    filterOptions: [\n      { label: \"This Week\", value: \"week\" },\n      { label: \"This Month\", value: \"month\" },\n      { label: \"This Year\", value: \"year\" },\n    ],\n    filters: {\n      topCreator: \"week\",\n      topSubscriber: \"week\",\n      creator: \"\",\n    },\n    topCreatorChartData: {},\n    topSubscriberChartData: {},\n    creatorsPerMonthChartData: {},\n    subscribersPerMonthChartData: {},\n    loading: {\n      topCreator: false,\n      topSubscriber: false,\n      creatorsPerMonth: false,\n      subscribersPerMonth: false,\n    },\n  };\n\n  _manageLoading = (key, value) => {\n    let {\n      topCreator,\n      topSubscriber,\n      creatorsPerMonth,\n      subscribersPerMonth,\n    } = this.state.loading;\n    if (key === \"topCreator\") {\n      topCreator = value;\n    } else if (key === \"topSubscriber\") {\n      topSubscriber = value;\n    } else if (key === \"creatorsPerMonth\") {\n      creatorsPerMonth = value;\n    } else if (key === \"subscribersPerMonth\") {\n      subscribersPerMonth = value;\n    }\n    this.setState({\n      loading: {\n        topCreator,\n        topSubscriber,\n        creatorsPerMonth,\n        subscribersPerMonth,\n      },\n    });\n  };\n\n  _getDashboardSummary = () => {\n    console.log(\"getDashboardSummary\");\n    getDashboardSummary().then(\n      (response) => {\n        console.log(response);\n        let summary = {\n          creators: response.creators,\n          subscribers: response.fans,\n          liveEvents: formatCurrencyValue(response.liveEvents),\n          payperviews: formatCurrencyValue(response.payperviews),\n          subscriptions: formatCurrencyValue(response.subscriptions),\n          tips: formatCurrencyValue(response.tips),\n          unlocks: formatCurrencyValue(response.unlocks),\n          vaults: formatCurrencyValue(response.vaults),\n        };\n        this.setState({ summary });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  // not using now\n  _getAllCreators = () => {\n    // this._manageLoading('data', true);\n    getAllCreators().then(\n      (response) => {\n        console.log(response);\n        // this._manageLoading('data', false);\n        let creatorList = response.influencers.map((each) => {\n          return {\n            name: each.name.full,\n            id: each.id,\n          };\n        });\n        this.setState({\n          creatorList,\n        });\n      },\n      (error) => {\n        console.log(error);\n        // this._manageLoading('data', false);\n        // ToastsStore.error(error.reason, 3000);\n      }\n    );\n  };\n\n  _getAllUsers = () => {\n    getAllUsers().then(\n      (response) => {\n        console.log(\"response :\", response);\n        let creatorList = response.influencers.map((each) => {\n          return {\n            name: each.name.full,\n            id: each.id,\n          };\n        });\n        this.setState({\n          creatorList,\n        });\n      },\n      (error) => {\n        console.log(\"error :\", error);\n        showToast(\n          error.reason && error.reason.length\n            ? error.reason\n            : \"Server error. Try again after sometime.\",\n          \"error\"\n        );\n      }\n    );\n  };\n\n  _getTopCreators = (data) => {\n    getTopCreators(data).then(\n      (response) => {\n        let topCreator = response.influencers.sort(function (a, b) {\n          return b._subCount - a._subCount;\n        });\n        topCreator = topCreator.slice(0, 10);\n        console.log(topCreator);\n        let topCreatorChartData = {\n          labels: topCreator.map((e, i) => {\n            return e.name.full;\n          }),\n          datasets: [\n            {\n              label: \"\",\n              backgroundColor: \"rgba(95, 66, 170, 0.3)\",\n              borderColor: \"rgba(95, 66, 170, 1)\",\n              borderWidth: 1,\n              hoverBackgroundColor: \"rgba(95, 66, 170, 0.5)\",\n              hoverBorderColor: \"rgba(95, 66, 170, 1)\",\n              data: topCreator.map((e, i) => {\n                return e._subCount;\n              }),\n            },\n          ],\n        };\n        this.setState({ topCreatorChartData });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  _getTopSubscriber = (data) => {\n    getTopSubscriber(data).then(\n      (response) => {\n        let topSubscriber = response.fans.sort(function (a, b) {\n          return b._subCount - a._subCount;\n        });\n        topSubscriber = topSubscriber.slice(0, 10);\n        let topSubscriberChartData = {\n          labels: topSubscriber.map((e, i) => {\n            return e.name.full.substring(0, 10);\n          }),\n          datasets: [\n            {\n              label: \"\",\n              backgroundColor: \"rgba(95, 66, 170, 0.3)\",\n              borderColor: \"rgba(95, 66, 170, 1)\",\n              borderWidth: 1,\n              hoverBackgroundColor: \"rgba(95, 66, 170, 0.5)\",\n              hoverBorderColor: \"rgba(95, 66, 170, 1)\",\n              data: topSubscriber.map((e, i) => {\n                return e._subCount;\n              }),\n            },\n          ],\n        };\n        this.setState({ topSubscriberChartData });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  _getCreatorsPerMonth = () => {\n    getCreatorsPerMonth().then(\n      (response) => {\n        console.log(response.influencers);\n        let creatorsData = config.monthList.map((each, index) => {\n          let creator = response.influencers.find((item) => {\n            return item._id.month === index + 1;\n          });\n          if (creator) {\n            return creator.count;\n          } else {\n            return 0;\n          }\n        });\n        let creatorsPerMonthChartData = {\n          labels: config.monthList,\n          datasets: [\n            {\n              label: \"\",\n              fill: false,\n              lineTension: 0.1,\n              backgroundColor: \"rgba(95, 66, 170, 0.4)\",\n              borderColor: \"rgba(95, 66, 170,1)\",\n              borderCapStyle: \"butt\",\n              borderDash: [],\n              borderDashOffset: 0.0,\n              borderJoinStyle: \"miter\",\n              pointBorderColor: \"rgba(255, 64, 159, 1)\",\n              pointBackgroundColor: \"#fff\",\n              pointBorderWidth: 5,\n              pointHoverRadius: 8,\n              pointHoverBackgroundColor: \"rgba(95, 66, 170, 1)\",\n              pointHoverBorderColor: \"rgba(220,220,220,1)\",\n              pointHoverBorderWidth: 2,\n              pointRadius: 1,\n              pointHitRadius: 10,\n              data: creatorsData,\n            },\n          ],\n        };\n        this.setState({ creatorsPerMonthChartData });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  _getSubscribersPerMonth = () => {\n    let data = {};\n    if (this.state.filters.creator) {\n      data.id = this.state.filters.creator;\n    }\n    getSubscribersPerMonth(data).then(\n      (response) => {\n        let subscriberData = config.monthList.map((each, index) => {\n          let subscriber = response.subscriptions.find((item) => {\n            return item._id.month === index + 1;\n          });\n          if (subscriber) {\n            return subscriber.count;\n          } else {\n            return 0;\n          }\n        });\n        let subscribersPerMonthChartData = {\n          labels: config.monthList,\n          datasets: [\n            {\n              label: \"\",\n              fill: false,\n              lineTension: 0.1,\n              backgroundColor: \"rgba(95, 66, 170, 0.4)\",\n              borderColor: \"rgba(95, 66, 170,1)\",\n              borderCapStyle: \"butt\",\n              borderDash: [],\n              borderDashOffset: 0.0,\n              borderJoinStyle: \"miter\",\n              pointBorderColor: \"rgba(255, 64, 159, 1)\",\n              pointBackgroundColor: \"#fff\",\n              pointBorderWidth: 5,\n              pointHoverRadius: 8,\n              pointHoverBackgroundColor: \"rgba(95, 66, 170, 1)\",\n              pointHoverBorderColor: \"rgba(220,220,220,1)\",\n              pointHoverBorderWidth: 2,\n              pointRadius: 1,\n              pointHitRadius: 10,\n              data: subscriberData,\n            },\n          ],\n        };\n        this.setState({ subscribersPerMonthChartData });\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  _handleOnchange = ({ currentTarget }, key) => {\n    const { filters } = this.state;\n    filters[currentTarget.name] = currentTarget.value;\n    this.setState({ filters });\n    if (key === \"topCreator\") {\n      console.log(filters.topCreator);\n      if (filters.topCreator === \"week\") {\n        const today = moment();\n        const startdate = today\n          .startOf(\"week\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        const enddate = today\n          .endOf(\"week\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        this._getTopCreators({ startdate, enddate });\n      } else if (filters.topCreator === \"month\") {\n        const today = moment();\n        const startdate = today\n          .startOf(\"month\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        const enddate = today\n          .endOf(\"month\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        this._getTopCreators({ startdate, enddate });\n      } else {\n        const today = moment();\n        const startdate = today\n          .startOf(\"year\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        const enddate = today\n          .endOf(\"year\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        this._getTopCreators({ startdate, enddate });\n      }\n    } else {\n      if (filters.topSubscriber === \"week\") {\n        const today = moment();\n        const startdate = today\n          .startOf(\"week\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        const enddate = today\n          .endOf(\"week\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        this._getTopSubscriber({ startdate, enddate });\n      } else if (filters.topSubscriber === \"month\") {\n        const today = moment();\n        const startdate = today\n          .startOf(\"month\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        const enddate = today\n          .endOf(\"month\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        this._getTopSubscriber({ startdate, enddate });\n      } else {\n        const today = moment();\n        const startdate = today\n          .startOf(\"year\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        const enddate = today\n          .endOf(\"year\")\n          .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n        this._getTopSubscriber({ startdate, enddate });\n      }\n    }\n  };\n\n  _getWeeklyTopCreators = () => {\n    const today = moment();\n    const startdate = today\n      .startOf(\"week\")\n      .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n    const enddate = today.endOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n    this._getTopCreators({ startdate, enddate });\n  };\n\n  _getWeeklyTopSubscribers = () => {\n    const today = moment();\n    const startdate = today\n      .startOf(\"week\")\n      .format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n    const enddate = today.endOf(\"week\").format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\n    this._getTopSubscriber({ startdate, enddate });\n  };\n\n  _onSelectCreator = ({ currentTarget }) => {\n    const { filters } = this.state;\n    filters[currentTarget.name] = currentTarget.value;\n    this.setState({ filters });\n    this._getSubscribersPerMonth();\n  };\n\n  componentDidMount() {\n    this._getDashboardSummary();\n    // this._getAllCreators();\n    this._getAllUsers();\n    this._getWeeklyTopCreators();\n    this._getWeeklyTopSubscribers();\n    this._getCreatorsPerMonth();\n    this._getSubscribersPerMonth();\n  }\n\n  render() {\n    const {\n      summary,\n      filters,\n      filterOptions,\n      topCreatorChartData,\n      topSubscriberChartData,\n      creatorsPerMonthChartData,\n      subscribersPerMonthChartData,\n      creatorList,\n    } = this.state;\n    return (\n      <div className=\"app TruFansPgBg animated fadeIn\">\n        <Container>\n          <Row>\n            <Col xs=\"12\">\n              <div className=\"PgTitle\">\n                <h2>Dashboard</h2>\n              </div>\n            </Col>\n\n            <Col sm=\"6\" md=\"6\" lg=\"3\">\n              <Card className=\"dashboardCard\">\n                <CardHeader>\n                  Influencers\n                  <span className=\"bgIcon\">\n                    <i className=\"icon-user\"></i>\n                  </span>\n                </CardHeader>\n                <CardBody>{summary.creators}</CardBody>\n              </Card>\n            </Col>\n\n            <Col sm=\"6\" md=\"6\" lg=\"3\">\n              <Card className=\"dashboardCard\">\n                <CardHeader>\n                  Subscribers\n                  <span className=\"bgIcon\" style={{ right: \"-5px\" }}>\n                    <i className=\"icon-user-follow\"></i>\n                  </span>\n                </CardHeader>\n                <CardBody>{summary.subscribers}</CardBody>\n              </Card>\n            </Col>\n\n            <Col sm=\"6\" md=\"6\" lg=\"3\">\n              <Card className=\"dashboardCard\">\n                <CardHeader>\n                  Subscription Fees\n                  <span\n                    className=\"bgIcon\"\n                    style={{ right: \"-7px\", top: \"-21px\" }}\n                  >\n                    <i className=\"fa fa-dollar\"></i>\n                  </span>\n                </CardHeader>\n                <CardBody>{summary.subscriptions}</CardBody>\n              </Card>\n            </Col>\n            <Col sm=\"6\" md=\"6\" lg=\"3\">\n              <Card className=\"dashboardCard\">\n                <CardHeader>\n                  Live Events\n                  <span\n                    className=\"bgIcon\"\n                    style={{ right: \"-7px\", top: \"-21px\" }}\n                  >\n                    <i className=\"fa fa-calendar\"></i>\n                  </span>\n                </CardHeader>\n                <CardBody>{summary.liveEvents}</CardBody>\n              </Card>\n            </Col>\n            <Col sm=\"6\" md=\"6\" lg=\"3\">\n              <Card className=\"dashboardCard\">\n                <CardHeader>\n                  PPV\n                  <span\n                    className=\"bgIcon\"\n                    style={{ right: \"-7px\", top: \"-21px\" }}\n                  >\n                    <i className=\"fa fa-dollar\"></i>\n                  </span>\n                </CardHeader>\n                <CardBody>{summary.payperviews}</CardBody>\n              </Card>\n            </Col>\n            <Col sm=\"6\" md=\"6\" lg=\"3\">\n              <Card className=\"dashboardCard\">\n                <CardHeader>\n                  Vault\n                  <span\n                    className=\"bgIcon\"\n                    style={{ right: \"-7px\", top: \"-21px\" }}\n                  >\n                    <i className=\"fa fa-lock\"></i>\n                  </span>\n                </CardHeader>\n                <CardBody>{summary.vaults}</CardBody>\n              </Card>\n            </Col>\n            <Col sm=\"6\" md=\"6\" lg=\"3\">\n              <Card className=\"dashboardCard\">\n                <CardHeader>\n                  Unlock\n                  <span\n                    className=\"bgIcon\"\n                    style={{ right: \"-7px\", top: \"-21px\" }}\n                  >\n                    <i className=\"fa fa-unlock\"></i>\n                  </span>\n                </CardHeader>\n                <CardBody>{summary.unlocks}</CardBody>\n              </Card>\n            </Col>\n            {/* <Col sm=\"6\" md=\"6\" lg=\"3\">\n              <Card className=\"dashboardCard\">\n                <CardHeader>\n                  Tips\n                  <span\n                    className=\"bgIcon\"\n                    style={{ right: \"-7px\", top: \"-21px\" }}\n                  >\n                    <i className=\"fa fa-comment-o\"></i>\n                  </span>\n                </CardHeader>\n                <CardBody>83</CardBody>\n              </Card>\n            </Col> */}\n          </Row>\n          <Row>\n            <Col sm=\"12\" md=\"6\">\n              <Card className=\"dashboardCard-Graph\">\n                <CardHeader className=\"d-flex justify-content-between align-items-center\">\n                  Top 10 Creators\n                  <Input\n                    type=\"select\"\n                    name=\"topCreator\"\n                    style={{ width: \"130px\" }}\n                    value={filters.topCreator}\n                    onChange={(e) => this._handleOnchange(e, \"topCreator\")}\n                  >\n                    <option value=\"\">Select</option>\n                    {filterOptions.map((each) => (\n                      <option value={each.value} key={each.label}>\n                        {each.label}\n                      </option>\n                    ))}\n                  </Input>\n                </CardHeader>\n                <CardBody>\n                  <div className=\"chart-wrapper\">\n                    <Bar data={topCreatorChartData} options={options} />\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n            <Col sm=\"12\" md=\"6\">\n              <Card className=\"dashboardCard-Graph\">\n                <CardHeader className=\"d-flex justify-content-between align-items-center\">\n                  Top 10 Subscribers\n                  <Input\n                    type=\"select\"\n                    name=\"topSubscriber\"\n                    style={{ width: \"130px\" }}\n                    value={filters.topSubscriber}\n                    onChange={(e) => this._handleOnchange(e, \"topSubscriber\")}\n                  >\n                    <option value=\"\">Select</option>\n                    {filterOptions.map((each) => (\n                      <option value={each.value} key={each.label}>\n                        {each.label}\n                      </option>\n                    ))}\n                  </Input>\n                </CardHeader>\n                <CardBody>\n                  <div className=\"chart-wrapper\">\n                    <Bar data={topSubscriberChartData} options={options} />\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n\n            <Col sm=\"12\" md=\"6\">\n              <Card className=\"dashboardCard-Graph\">\n                <CardHeader>No. of Creators joined per month</CardHeader>\n                <CardBody>\n                  <div className=\"chart-wrapper\">\n                    <Line data={creatorsPerMonthChartData} options={options} />\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n\n            <Col sm=\"12\" md=\"6\">\n              <Card className=\"dashboardCard-Graph\">\n                <CardHeader className=\"d-flex justify-content-between align-items-center\">\n                  No. of Subscribers joined per month\n                  <Input\n                    type=\"select\"\n                    name=\"creator\"\n                    id=\"\"\n                    style={{ width: \"130px\" }}\n                    value={filters.creator}\n                    onChange={this._onSelectCreator}\n                  >\n                    <option value=\"\">All</option>\n                    {creatorList.map((each) => (\n                      <option key={each.id} value={each.id}>\n                        {each.name}\n                      </option>\n                    ))}\n                  </Input>\n                </CardHeader>\n                <CardBody>\n                  <div className=\"chart-wrapper\">\n                    <Line\n                      data={subscribersPerMonthChartData}\n                      options={options}\n                    />\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n          <br />\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}