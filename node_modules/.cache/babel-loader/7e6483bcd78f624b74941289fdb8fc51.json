{"ast":null,"code":"import _classCallCheck from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/invitations.js\";\nimport React, { Component } from \"react\";\nimport { Container, Row, Col, Button, Input, Badge } from \"reactstrap\";\nimport CustomTable from \"../components/custom-table\";\nimport { getAllInvitations, sendMessage } from \"../http/http-calls\";\nimport config from \"../config\";\nimport { ToastsStore } from \"react-toasts\";\nimport { format } from \"date-fns\";\nimport SendInviteModal from \"../components/send-invite-modal\";\nimport CustomDateRangePicker from \"../components/date-range-picker\";\nimport TextEditor from \"../components/text-editor\";\nimport CopyclipBoard from \"../components/copy-clipboard\";\nimport { showToast, deepClone } from \"../helper-methods\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\n\nvar Invitations = /*#__PURE__*/function (_Component) {\n  _inherits(Invitations, _Component);\n\n  var _super = _createSuper(Invitations);\n\n  function Invitations() {\n    var _this;\n\n    _classCallCheck(this, Invitations);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      sendInvitationModal: {\n        isOpen: false\n      },\n      invitationList: [],\n      invitationListBackup: [],\n      headerKeys: [{\n        id: \"id\",\n        label: \"id\"\n      }, {\n        id: \"name\",\n        label: \"Name\"\n      }, {\n        id: \"email\",\n        label: \"Email\"\n      }, {\n        id: \"phone\",\n        label: \"Phone\"\n      }, {\n        id: \"date\",\n        label: \"Date\"\n      }, {\n        id: \"invitedBy\",\n        label: \"Invited By\"\n      }, {\n        id: \"status\",\n        label: \"Status\"\n      }],\n      invitationsStatusColor: config.invitationsStatusColor,\n      filters: {\n        dateRange: {\n          startDate: null,\n          endDate: null,\n          focusedInput: null,\n          startDateId: \"startDate\",\n          endDateId: \"endDate\"\n        },\n        sentBy: \"\",\n        status: \"\",\n        search: \"\"\n      },\n      loading: {\n        loadingData: false,\n        sendingMessage: false\n      },\n      sentByList: [],\n      contact: {\n        via: \"email\",\n        message: \"\"\n      },\n      selectedInvitations: []\n    };\n\n    _this._onDatesChange = function (startDate, endDate) {\n      var filters = _this.state.filters;\n      filters.dateRange.startDate = startDate;\n      filters.dateRange.endDate = endDate;\n\n      _this.setState({\n        filters: filters\n      });\n\n      if (filters.dateRange.startDate && filters.dateRange.endDate) {\n        // ToastsStore.warning(\"Date Filter under development.\", 3000);\n        _this._filterInvitationList();\n      }\n    };\n\n    _this._onFocusChange = function (input) {\n      var filters = _this.state.filters;\n      filters.dateRange.focusedInput = input;\n\n      _this.setState({\n        filters: filters\n      });\n    };\n\n    _this._toggleSendInviteModal = function () {\n      var _JSON$parse = JSON.parse(JSON.stringify(_this.state)),\n          sendInvitationModal = _JSON$parse.sendInvitationModal;\n\n      sendInvitationModal.isOpen = !sendInvitationModal.isOpen;\n\n      _this.setState({\n        sendInvitationModal: sendInvitationModal\n      });\n    };\n\n    _this._manageLoading = function (key, value) {\n      var _this$state$loading = _this.state.loading,\n          loadingData = _this$state$loading.loadingData,\n          sendingMessage = _this$state$loading.sendingMessage;\n\n      if (key === \"data\") {\n        loadingData = value;\n      } else if (key === \"send-message\") {\n        sendingMessage = value;\n      }\n\n      _this.setState({\n        loading: {\n          loadingData: loadingData,\n          sendingMessage: sendingMessage\n        }\n      });\n    };\n\n    _this._dataFormat = function (cell, row, header) {\n      if (header === \"status\") {\n        return /*#__PURE__*/React.createElement(Badge, {\n          color: _this.state.invitationsStatusColor[cell],\n          className: \"referralStatus capitalize\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }\n        }, cell);\n      } else if (header === \"invitedBy\") {\n        return row.invitationLink ? /*#__PURE__*/React.createElement(Link, {\n          to: \"/creator-view/\".concat(row.invitationLink),\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 9\n          }\n        }, row.invitedBy) : row.invitedBy;\n      } else if (header === \"email\") {\n        return /*#__PURE__*/React.createElement(CopyclipBoard, {\n          copiedValue: row.email,\n          border: \"none\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 9\n          }\n        });\n      } else if (header === \"phone\") {\n        return row.phone !== '-' ? /*#__PURE__*/React.createElement(CopyclipBoard, {\n          copiedValue: parsePhoneNumberFromString(row.phone).formatInternational(),\n          border: \"none\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 9\n          }\n        }) : '-';\n      } else if (header === 'date') {\n        return cell ? format(new Date(cell), \"MMM dd, yyyy\") : \"-\";\n      } else {\n        return cell;\n      }\n    };\n\n    _this._getAllInvitations = function () {\n      _this._manageLoading(\"data\", true);\n\n      getAllInvitations().then(function (response) {\n        _this._manageLoading(\"data\", false);\n\n        var invitationList = response.invitations.map(function (each) {\n          console.log(\"sq eqwdq\", each);\n          return {\n            name: each.name ? each.name.first + (each.name.last ? \" \" + each.name.last : \"\") : \"-\",\n            id: each._id,\n            email: each.email || '-',\n            phone: each.phone || \"-\",\n            date: each.createdAt,\n            invitedBy: each._from && each._from ? each._from.name.full : \"-\",\n            invitationLink: each._from && each._from.userType === \"Influencer\" ? each._from._id : null,\n            status: each.status === 'pending' ? each.hasOwnProperty(\"isExpired\") && each.isExpired ? \"expired\" : each.status : each.status,\n            isExpired: each.hasOwnProperty(\"isExpired\") ? each.isExpired : false\n          };\n        });\n        invitationList = invitationList.sort(function (item1, item2) {\n          return new Date(item2.date) - new Date(item1.date);\n        });\n        var sentByList = invitationList.map(function (item) {\n          return item.invitedBy;\n        }).filter(function (value, index, self) {\n          return self.indexOf(value) === index;\n        });\n\n        _this.setState({\n          invitationList: invitationList,\n          invitationListBackup: invitationList,\n          sentByList: sentByList\n        });\n      }, function (error) {\n        _this._manageLoading(\"data\", false); // ToastsStore.error(error.reason, 3000);\n\n\n        showToast(error.reason && error.reason.length ? error.reason : \"Server error. Try again after sometime.\", \"error\");\n      });\n    };\n\n    _this._filterOnChange = function (_ref) {\n      var currentTarget = _ref.currentTarget;\n      var filters = _this.state.filters;\n      filters[currentTarget.name] = currentTarget.value;\n\n      _this.setState({\n        filters: filters\n      });\n\n      if (currentTarget.name !== \"search\") {\n        _this._filterInvitationList();\n      }\n    };\n\n    _this._filterInvitationList = function () {\n      var filterConditions = [];\n\n      var _deepClone = deepClone(_this.state),\n          filters = _deepClone.filters,\n          invitationListBackup = _deepClone.invitationListBackup,\n          invitationList = _deepClone.invitationList;\n\n      console.log(\"TCL: _filterInvitationList -> filters\", filters);\n      Object.keys(filters).forEach(function (key) {\n        if (filters[key]) {\n          filterConditions.push(key);\n        }\n      });\n      invitationList = [];\n      invitationList = invitationListBackup;\n      console.log(\"TCL: _filterInvitationList -> invitationList\", invitationList);\n\n      if (filterConditions.length) {\n        if (filters.dateRange && filters.dateRange.startDate && filters.dateRange.endDate) {\n          console.log(\"date range checking\");\n          invitationList = invitationList.filter(function (each) {\n            return each.hasOwnProperty(\"date\") && moment(each.date).isBetween(filters.dateRange.startDate, filters.dateRange.endDate);\n          });\n        }\n\n        if (filters.sentBy && filters.sentBy.length) {\n          invitationList = invitationList.filter(function (each) {\n            console.log(\"TCL: _filterInvitationList -> each\", each);\n            return each.invitedBy.toLowerCase() === filters.sentBy.toLowerCase();\n          });\n        }\n\n        if (filters.status && filters.status.length) {\n          console.log(\"status checking\", filters.status.toLowerCase());\n          invitationList = invitationList.filter(function (each) {\n            console.log(\"each,filters :\", each);\n            return each.status.toLowerCase() === filters.status.toLowerCase();\n          });\n        }\n\n        console.log(\"after status filtering invitationList :\", invitationList);\n\n        if (filters.search.trim().length) {\n          invitationList = invitationList.filter(function (each) {\n            return each.name && each.name.toLowerCase().includes(filters.search.toLowerCase()) || each.email && each.email.toLowerCase().includes(filters.search.toLowerCase()) || each.phone && each.phone.toLowerCase().includes(filters.search.toLowerCase()) || each.invitedBy && each.invitedBy.toLowerCase().includes(filters.search.toLowerCase());\n          });\n        }\n\n        console.log(\"invitationList :\", invitationList);\n\n        _this.setState({\n          invitationList: invitationList\n        });\n      } else {\n        _this.setState({\n          invitationList: invitationListBackup\n        });\n      }\n    };\n\n    _this._setSelectedRows = function (data) {\n      var selectedInvitations = _this.state.selectedInvitations;\n      selectedInvitations = data;\n\n      _this.setState({\n        selectedInvitations: selectedInvitations\n      });\n    };\n\n    _this._contactOnChange = function (_ref2) {\n      var currentTarget = _ref2.currentTarget;\n      var contact = _this.state.contact;\n      contact[currentTarget.name] = currentTarget.value;\n\n      _this.setState({\n        contact: contact\n      });\n    };\n\n    _this._sendMessage = function () {\n      var _this$state = _this.state,\n          contact = _this$state.contact,\n          selectedInvitations = _this$state.selectedInvitations;\n      var data = {\n        idlist: selectedInvitations,\n        text: contact.via === \"email\" ? contact.message : _this._extractContent(contact.message)\n      };\n\n      if (!data.idlist.length) {\n        ToastsStore.warning(\"Please select atleast one creator\", 3000);\n        return;\n      }\n\n      if (!data.text.trim().length) {\n        ToastsStore.warning(\"Please write some message\", 3000);\n        return;\n      }\n\n      _this._manageLoading(\"send-message\", true);\n\n      sendMessage(contact.via, data).then(function (response) {\n        _this._setMessageContent(\"\", \"message\");\n\n        _this._manageLoading(\"send-message\", false);\n\n        ToastsStore.success(\"Message sent Successfully!\", 3000);\n      }, function (error) {\n        console.log(error);\n\n        _this._manageLoading(\"send-message\", false); // ToastsStore.error(error.reason, 3000);\n\n\n        showToast(error.reason && error.reason.length ? error.reason : \"Server error. Try again after sometime.\", \"error\");\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Invitations, [{\n    key: \"_extractContent\",\n    value: function _extractContent(s) {\n      var span = document.createElement(\"span\");\n      span.innerHTML = s;\n      return span.textContent || span.innerText;\n    }\n  }, {\n    key: \"_setMessageContent\",\n    value: function _setMessageContent(value, key) {\n      var contact = this.state.contact;\n      contact[key] = value;\n      this.setState({\n        contact: contact\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._getAllInvitations();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          filters = _this$state2.filters,\n          loading = _this$state2.loading,\n          sentByList = _this$state2.sentByList,\n          contact = _this$state2.contact;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app TruFansPgBg animated fadeIn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"PgTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-start align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 19\n        }\n      }, \"Invitations\")), /*#__PURE__*/React.createElement(Button, {\n        className: \"BtnPurple\",\n        onClick: function onClick() {\n          return _this2._toggleSendInviteModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-plus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 19\n        }\n      }), \" Invite\")), !loading.loadingData && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filterWrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-filter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ml-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(CustomDateRangePicker, {\n        dateRange: filters.dateRange,\n        onDatesChange: this._onDatesChange,\n        onFocusChange: this._onFocusChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        name: \"sentBy\",\n        value: filters.sentBy,\n        onChange: this._filterOnChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 25\n        }\n      }, \"Sent By\"), sentByList.map(function (option) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: option,\n          value: option,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 27\n          }\n        }, option);\n      })), /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        name: \"status\",\n        value: filters.status,\n        onChange: this._filterOnChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 25\n        }\n      }, \"Status\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"accepted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 25\n        }\n      }, \"Accepted\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"expired\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 25\n        }\n      }, \"Expired\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"pending\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 25\n        }\n      }, \"Pending\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        id: \"search\",\n        name: \"search\",\n        placeholder: \"Search\",\n        className: \"ml-2\",\n        value: filters.search,\n        onChange: this._filterOnChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        color: \"secondary\",\n        className: \"ml-2\",\n        onClick: this._filterInvitationList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-magnifier\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 25\n        }\n      })))), /*#__PURE__*/React.createElement(CustomTable, {\n        tableData: this.state.invitationList,\n        headerKeys: this.state.headerKeys,\n        dataFormat: this._dataFormat,\n        rowSelection: true,\n        setSelectedRows: function setSelectedRows(data) {\n          return _this2._setSelectedRows(data);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex my-5 flex-column w-75 mx-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"text-center mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 21\n        }\n      }, \"Contact\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"select\",\n        style: {\n          width: \"175px\"\n        },\n        className: \"mr-3\",\n        name: \"via\",\n        value: contact.via,\n        onChange: this._contactOnChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"email\",\n        defaultValue: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 25\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"sms\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 25\n        }\n      }, \"SMS\")), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(TextEditor, {\n        content: contact.message,\n        onChange: function onChange(e) {\n          return _this2._setMessageContent(e, \"message\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        className: \"BtnPurple mt-4 d-block mx-auto\",\n        style: {\n          padding: \"8px 25px\"\n        },\n        disabled: loading.sendingMessage,\n        onClick: this._sendMessage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 25\n        }\n      }, loading.sendingMessage ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin mr5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 31\n        }\n      }), \"\\xA0\") : null, \"Send\"))))), loading.loadingData && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filterWrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading-section list-loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 21\n        }\n      }), \" \\xA0 Loading Invitations..\")), /*#__PURE__*/React.createElement(SendInviteModal, {\n        isOpen: this.state.sendInvitationModal.isOpen,\n        toggle: function toggle() {\n          return _this2._toggleSendInviteModal();\n        },\n        reloadInvitationList: this._getAllInvitations,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return Invitations;\n}(Component);\n\nexport default Invitations;","map":{"version":3,"sources":["/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/invitations.js"],"names":["React","Component","Container","Row","Col","Button","Input","Badge","CustomTable","getAllInvitations","sendMessage","config","ToastsStore","format","SendInviteModal","CustomDateRangePicker","TextEditor","CopyclipBoard","showToast","deepClone","moment","Link","parsePhoneNumberFromString","Invitations","state","sendInvitationModal","isOpen","invitationList","invitationListBackup","headerKeys","id","label","invitationsStatusColor","filters","dateRange","startDate","endDate","focusedInput","startDateId","endDateId","sentBy","status","search","loading","loadingData","sendingMessage","sentByList","contact","via","message","selectedInvitations","_onDatesChange","setState","_filterInvitationList","_onFocusChange","input","_toggleSendInviteModal","JSON","parse","stringify","_manageLoading","key","value","_dataFormat","cell","row","header","invitationLink","invitedBy","email","phone","formatInternational","Date","_getAllInvitations","then","response","invitations","map","each","console","log","name","first","last","_id","date","createdAt","_from","full","userType","hasOwnProperty","isExpired","sort","item1","item2","item","filter","index","self","indexOf","error","reason","length","_filterOnChange","currentTarget","filterConditions","Object","keys","forEach","push","isBetween","toLowerCase","trim","includes","_setSelectedRows","data","_contactOnChange","_sendMessage","idlist","text","_extractContent","warning","_setMessageContent","success","s","span","document","createElement","innerHTML","textContent","innerText","option","width","flex","e","padding"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container, Row, Col, Button, Input, Badge } from \"reactstrap\";\nimport CustomTable from \"../components/custom-table\";\nimport { getAllInvitations, sendMessage } from \"../http/http-calls\";\nimport config from \"../config\";\nimport { ToastsStore } from \"react-toasts\";\nimport { format } from \"date-fns\";\nimport SendInviteModal from \"../components/send-invite-modal\";\nimport CustomDateRangePicker from \"../components/date-range-picker\";\nimport TextEditor from \"../components/text-editor\";\nimport CopyclipBoard from \"../components/copy-clipboard\";\nimport { showToast, deepClone } from \"../helper-methods\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\nclass Invitations extends Component {\n  state = {\n    sendInvitationModal: {\n      isOpen: false\n    },\n    invitationList: [],\n    invitationListBackup: [],\n    headerKeys: [\n      { id: \"id\", label: \"id\" },\n      { id: \"name\", label: \"Name\" },\n      { id: \"email\", label: \"Email\" },\n      { id: \"phone\", label: \"Phone\" },\n      { id: \"date\", label: \"Date\" },\n      { id: \"invitedBy\", label: \"Invited By\" },\n      { id: \"status\", label: \"Status\" }\n    ],\n    invitationsStatusColor: config.invitationsStatusColor,\n    filters: {\n      dateRange: {\n        startDate: null,\n        endDate: null,\n        focusedInput: null,\n        startDateId: \"startDate\",\n        endDateId: \"endDate\"\n      },\n      sentBy: \"\",\n      status: \"\",\n      search: \"\"\n    },\n    loading: {\n      loadingData: false,\n      sendingMessage: false\n    },\n    sentByList: [],\n    contact: {\n      via: \"email\",\n      message: \"\"\n    },\n    selectedInvitations: []\n  };\n\n  _onDatesChange = (startDate, endDate) => {\n    let { filters } = this.state;\n    filters.dateRange.startDate = startDate;\n    filters.dateRange.endDate = endDate;\n    this.setState({ filters });\n    if (filters.dateRange.startDate && filters.dateRange.endDate) {\n      // ToastsStore.warning(\"Date Filter under development.\", 3000);\n      this._filterInvitationList();\n    }\n  };\n\n  _onFocusChange = input => {\n    let { filters } = this.state;\n    filters.dateRange.focusedInput = input;\n    this.setState({ filters });\n  };\n\n  _toggleSendInviteModal = () => {\n    let { sendInvitationModal } = JSON.parse(JSON.stringify(this.state));\n    sendInvitationModal.isOpen = !sendInvitationModal.isOpen;\n    this.setState({\n      sendInvitationModal\n    });\n  };\n\n  _manageLoading = (key, value) => {\n    let { loadingData, sendingMessage } = this.state.loading;\n    if (key === \"data\") {\n      loadingData = value;\n    } else if (key === \"send-message\") {\n      sendingMessage = value;\n    }\n    this.setState({ loading: { loadingData, sendingMessage } });\n  };\n\n  _dataFormat = (cell, row, header) => {\n    if (header === \"status\") {\n      return (\n        <Badge\n          color={this.state.invitationsStatusColor[cell]}\n          className=\"referralStatus capitalize\"\n        >\n          {cell}\n        </Badge>\n      );\n    } else if (header === \"invitedBy\") {\n      return row.invitationLink ? (\n        <Link to={`/creator-view/${row.invitationLink}`}>\n          {row.invitedBy}\n        </Link>\n      ) : (\n        row.invitedBy\n      )\n    } else if (header === \"email\") {\n      return (\n        <CopyclipBoard\n          copiedValue={row.email}\n          border=\"none\">\n        </CopyclipBoard>\n      )\n    } else if (header === \"phone\") {\n      return row.phone !== '-' ? (\n        <CopyclipBoard\n          copiedValue={parsePhoneNumberFromString(\n            row.phone\n          ).formatInternational()}\n          border=\"none\">\n        </CopyclipBoard>\n      ) : '-'\n    } else if (header === 'date') {\n      return cell\n        ? format(new Date(cell), \"MMM dd, yyyy\")\n        : \"-\";\n    } else {\n      return cell;\n    }\n  };\n\n  _getAllInvitations = () => {\n    this._manageLoading(\"data\", true);\n    getAllInvitations().then(\n      response => {\n        this._manageLoading(\"data\", false);\n        \n        let invitationList = response.invitations.map(each => {\n          console.log(\"sq eqwdq\", each);\n          return {\n            name: each.name\n              ? each.name.first + (each.name.last ? \" \" + each.name.last : \"\")\n              : \"-\",\n            id: each._id,\n            email: each.email || '-',\n            phone: each.phone || \"-\",\n            date: each.createdAt,\n            invitedBy:\n              each._from && each._from ? each._from.name.full : \"-\",\n            invitationLink:\n              each._from && each._from.userType === \"Influencer\" ? each._from._id : null,\n            status:\n              each.status === 'pending' ? \n                (each.hasOwnProperty(\"isExpired\") && each.isExpired ? \"expired\" : each.status)\n                : each.status,\n          isExpired: each.hasOwnProperty(\"isExpired\") ? each.isExpired : false\n          };\n        });\n        invitationList = invitationList.sort((item1, item2) => {\n          return new Date(item2.date) - new Date(item1.date);\n        })\n        let sentByList = invitationList\n          .map(item => item.invitedBy)\n          .filter((value, index, self) => self.indexOf(value) === index);\n        this.setState({\n          invitationList,\n          invitationListBackup: invitationList,\n          sentByList\n        });\n        \n      },\n      error => {\n        this._manageLoading(\"data\", false);\n        // ToastsStore.error(error.reason, 3000);\n        showToast(\n          error.reason && error.reason.length\n            ? error.reason\n            : \"Server error. Try again after sometime.\",\n          \"error\"\n        );\n      }\n    );\n  };\n\n  _filterOnChange = ({ currentTarget }) => {\n    let { filters } = this.state;\n    filters[currentTarget.name] = currentTarget.value;\n    this.setState({ filters });\n    if (currentTarget.name !== \"search\") {\n      this._filterInvitationList();\n    }\n  };\n\n  _filterInvitationList = () => {\n    let filterConditions = [];\n    let { filters, invitationListBackup, invitationList } = deepClone(\n      this.state\n    );\n    console.log(\"TCL: _filterInvitationList -> filters\", filters);\n    Object.keys(filters).forEach(key => {\n      if (filters[key]) {\n        filterConditions.push(key);\n      }\n    });\n    invitationList = [];\n    invitationList = invitationListBackup;\n    console.log(\"TCL: _filterInvitationList -> invitationList\", invitationList);\n    if (filterConditions.length) {\n      if (\n        filters.dateRange &&\n        filters.dateRange.startDate &&\n        filters.dateRange.endDate\n      ) {\n        console.log(\"date range checking\");\n        invitationList = invitationList.filter(each => {\n          return (\n            each.hasOwnProperty(\"date\") &&\n            moment(each.date).isBetween(\n              filters.dateRange.startDate,\n              filters.dateRange.endDate\n            )\n          );\n        });\n      }\n      if (filters.sentBy && filters.sentBy.length) {\n        invitationList = invitationList.filter(each => {\n          console.log(\"TCL: _filterInvitationList -> each\", each);\n          return each.invitedBy.toLowerCase() === filters.sentBy.toLowerCase();\n        });\n      }\n      if (filters.status && filters.status.length) {\n        console.log(\"status checking\", filters.status.toLowerCase());\n        invitationList = invitationList.filter(each => {\n          console.log(\"each,filters :\", each);\n          return each.status.toLowerCase() === filters.status.toLowerCase();\n        });\n      }\n      console.log(\"after status filtering invitationList :\", invitationList);\n      if (filters.search.trim().length) {\n        invitationList = invitationList.filter(each => {\n          return (\n            (each.name &&\n              each.name.toLowerCase().includes(filters.search.toLowerCase())) ||\n            (each.email &&\n              each.email\n                .toLowerCase()\n                .includes(filters.search.toLowerCase())) ||\n            (each.phone &&\n              each.phone\n                .toLowerCase()\n                .includes(filters.search.toLowerCase())) ||\n            (each.invitedBy &&\n              each.invitedBy\n                .toLowerCase()\n                .includes(filters.search.toLowerCase()))\n          );\n        });\n      }\n      console.log(\"invitationList :\", invitationList);\n      this.setState({ invitationList });\n    } else {\n      this.setState({ invitationList: invitationListBackup });\n    }\n  };\n\n  _setSelectedRows = data => {\n    let { selectedInvitations } = this.state;\n    selectedInvitations = data;\n    this.setState({ selectedInvitations });\n  };\n\n  _contactOnChange = ({ currentTarget }) => {\n    let { contact } = this.state;\n    contact[currentTarget.name] = currentTarget.value;\n    this.setState({ contact });\n  };\n\n  _extractContent(s) {\n    var span = document.createElement(\"span\");\n    span.innerHTML = s;\n    return span.textContent || span.innerText;\n  }\n\n  _setMessageContent(value, key) {\n    let { contact } = this.state;\n    contact[key] = value;\n    this.setState({ contact });\n  }\n\n  _sendMessage = () => {\n    let { contact, selectedInvitations } = this.state;\n    let data = {\n      idlist: selectedInvitations,\n      text:\n        contact.via === \"email\"\n          ? contact.message\n          : this._extractContent(contact.message)\n    };\n    if (!data.idlist.length) {\n      ToastsStore.warning(\"Please select atleast one creator\", 3000);\n      return;\n    }\n    if (!data.text.trim().length) {\n      ToastsStore.warning(\"Please write some message\", 3000);\n      return;\n    }\n    this._manageLoading(\"send-message\", true);\n    sendMessage(contact.via, data).then(\n      response => {\n        this._setMessageContent(\"\", \"message\");\n        this._manageLoading(\"send-message\", false);\n        ToastsStore.success(\"Message sent Successfully!\", 3000);\n      },\n      error => {\n        console.log(error);\n        this._manageLoading(\"send-message\", false);\n        // ToastsStore.error(error.reason, 3000);\n        showToast(\n          error.reason && error.reason.length\n            ? error.reason\n            : \"Server error. Try again after sometime.\",\n          \"error\"\n        );\n      }\n    );\n  };\n\n  componentDidMount() {\n    this._getAllInvitations();\n  }\n\n  render() {\n    const { filters, loading, sentByList, contact } = this.state;\n    return (\n      <div className=\"app TruFansPgBg animated fadeIn\">\n        <Container fluid>\n          <Row>\n            <Col xs=\"12\">\n              <div className=\"PgTitle\">\n                <div className=\"d-flex justify-content-start align-items-center\">\n                  {/* on clicking the below btn, it should take back the user to the previous page in history */}\n                  {/* <Button color=\"ghost-dark\" className=\"customBackBtn\">\n                    <i className=\"fa fa-arrow-left\"></i>\n                  </Button> */}\n                  <h2>Invitations</h2>\n                </div>\n\n                {/* a modal open on clicking the below btn */}\n                <Button\n                  className=\"BtnPurple\"\n                  onClick={() => this._toggleSendInviteModal()}\n                >\n                  <i className=\"fa fa-plus\"></i> Invite\n                </Button>\n              </div>\n              {/* filters */}\n              {!loading.loadingData && (\n                <>\n                  <div className=\"filterWrap\">\n                    <div className=\"d-flex align-items-center\">\n                      <i className=\"fa fa-filter\"></i>\n                      {/* there will be a \"Date Range\" below in place of an input field */}\n                      {/* <Input\n                    type=\"text\"\n                    id=\"\"\n                    placeholder=\"Date Range\"\n                    className=\"ml-2\"\n                  /> */}\n                      <div className=\"ml-2\">\n                        <CustomDateRangePicker\n                          dateRange={filters.dateRange}\n                          onDatesChange={this._onDatesChange}\n                          onFocusChange={this._onFocusChange}\n                        ></CustomDateRangePicker>\n                      </div>\n\n                      <Input\n                        type=\"select\"\n                        name=\"sentBy\"\n                        value={filters.sentBy}\n                        onChange={this._filterOnChange}\n                      >\n                        <option value=\"\">Sent By</option>\n                        {sentByList.map(option => (\n                          <option key={option} value={option}>\n                            {option}\n                          </option>\n                        ))}\n                      </Input>\n                      <Input\n                        type=\"select\"\n                        name=\"status\"\n                        value={filters.status}\n                        onChange={this._filterOnChange}\n                      >\n                        <option value=\"\">Status</option>\n                        <option value=\"accepted\">Accepted</option>\n                        <option value=\"expired\">Expired</option>\n                        <option value=\"pending\">Pending</option>\n                      </Input>\n                    </div>\n\n                    <div className=\"d-flex align-items-center\">\n                      <Input\n                        type=\"text\"\n                        id=\"search\"\n                        name=\"search\"\n                        placeholder=\"Search\"\n                        className=\"ml-2\"\n                        value={filters.search}\n                        onChange={this._filterOnChange}\n                      />\n\n                      <Button\n                        color=\"secondary\"\n                        className=\"ml-2\"\n                        onClick={this._filterInvitationList}\n                      >\n                        <i className=\"icon-magnifier\"></i>\n                      </Button>\n                    </div>\n                  </div>\n                  <CustomTable\n                    tableData={this.state.invitationList}\n                    headerKeys={this.state.headerKeys}\n                    dataFormat={this._dataFormat}\n                    rowSelection={true}\n                    setSelectedRows={data => this._setSelectedRows(data)}\n                  ></CustomTable>\n                  <div className=\"d-flex my-5 flex-column w-75 mx-auto\">\n                    <h2 className=\"text-center mb-3\">Contact</h2>\n                    <div className=\"d-flex justify-content-between\">\n                      <Input\n                        type=\"select\"\n                        style={{ width: \"175px\" }}\n                        className=\"mr-3\"\n                        name=\"via\"\n                        value={contact.via}\n                        onChange={this._contactOnChange}\n                      >\n                        <option value=\"email\" defaultValue>\n                          Email\n                        </option>\n                        <option value=\"sms\">SMS</option>\n                      </Input>\n\n                      <div style={{ flex: 1 }}>\n                        {/* <Input\n                      type=\"textarea\"\n                      id=\"\"\n                      rows=\"6\"\n                      placeholder=\"Enter your message here..\"\n                      name=\"message\"\n                      value={contact.message}\n                      onChange={this._contactOnChange}\n                    /> */}\n                        <TextEditor\n                          content={contact.message}\n                          onChange={e => this._setMessageContent(e, \"message\")}\n                        ></TextEditor>\n\n                        <Button\n                          className=\"BtnPurple mt-4 d-block mx-auto\"\n                          style={{ padding: \"8px 25px\" }}\n                          disabled={loading.sendingMessage}\n                          onClick={this._sendMessage}\n                        >\n                          {loading.sendingMessage ? (\n                            <>\n                              <i className=\"fa fa-spinner fa-spin mr5\" />\n                              &nbsp;\n                            </>\n                          ) : null}\n                          Send\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                </>\n              )}\n              {loading.loadingData && (\n                <div className=\"filterWrap\">\n                  <div className=\"loading-section list-loading\">\n                    <i className=\"fa fa-spinner fa-spin\"></i> &nbsp; Loading\n                    Invitations..\n                  </div>\n                </div>\n              )}\n              {/* Modal for \"Invite Creator\" */}\n              <SendInviteModal\n                isOpen={this.state.sendInvitationModal.isOpen}\n                toggle={() => this._toggleSendInviteModal()}\n                reloadInvitationList={this._getAllInvitations}\n              ></SendInviteModal>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Invitations;\n"]},"metadata":{},"sourceType":"module"}