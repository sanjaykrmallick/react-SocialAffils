{"ast":null,"code":"import _classCallCheck from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/post-details-page.jsx\";\nimport React, { Component } from \"react\";\nimport { Col, Container, Row, Button } from \"reactstrap\";\nimport { deepClone, showToast } from \"../helper-methods\";\nimport { getPostDetails } from \"../http/http-calls\";\nimport SubscriberFeedViewer from \"../components/subscriber-feed-viewer\";\nimport CreatorFeedViewer from \"../components/creator-feed-viewer\";\n\nvar PostDetailsPage = /*#__PURE__*/function (_Component) {\n  _inherits(PostDetailsPage, _Component);\n\n  var _super = _createSuper(PostDetailsPage);\n\n  function PostDetailsPage() {\n    var _this;\n\n    _classCallCheck(this, PostDetailsPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      feed: JSON.parse(localStorage.getItem(\"feed\")),\n      loading: {\n        loadingData: false,\n        sendingMessage: false\n      }\n    };\n\n    _this._manageLoading = function (key, value) {\n      var _this$state$loading = _this.state.loading,\n          loadingData = _this$state$loading.loadingData,\n          changeStatusLoading = _this$state$loading.changeStatusLoading;\n\n      if (key === \"data\") {\n        loadingData = value;\n      } else if (key === \"change-status\") {\n        changeStatusLoading = value;\n      }\n\n      _this.setState({\n        loading: {\n          loadingData: loadingData,\n          changeStatusLoading: changeStatusLoading\n        }\n      });\n    };\n\n    _this._fetchPostDetails = function () {\n      getPostDetails(_this.props.match.params.id).then(function (res) {\n        console.log(\"TCL: PostDetailsPage -> res\", res);\n\n        _this.setState({\n          feed: res.post\n        }, function () {\n          _this._manageLoading(\"data\", false); // this.props.hideLoader();\n\n        });\n      }).catch(function (err) {\n        // this.props.hideLoader();\n        showToast(err.reason && err.reason.length ? err.reason : \"Server error. Try again after sometime.\", \"error\");\n\n        _this.props.history.goBack();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PostDetailsPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._manageLoading(\"data\", true);\n\n      this._fetchPostDetails();\n    }\n  }, {\n    key: \"render\",\n    //   _pinToProfile = (id, isPinned) => {\n    //     editPost({ isPinned }, id)\n    //       .then(response => {\n    //         showToast(\"Updated Successfully\", \"success\");\n    //         this._fetchPostDetails();\n    //         // this._scrollToTop();\n    //         // this._getPosts();\n    //       })\n    //       .catch(err => {\n    //         showToast(\n    //           err.reason && err.reason.length\n    //             ? err.reason\n    //             : \"Server error. Try again after sometime.\",\n    //           \"error\"\n    //         );\n    //       });\n    //   };\n    //   _deletePost = feed => {\n    //     deletPost(feed.id)\n    //       .then(resp => {\n    //         this.props.hideLoader();\n    //         showToast(\"Deleted Successfully\", \"success\");\n    //         this.props.history.push(\"/feed\");\n    //         // this._getPosts();\n    //       })\n    //       .catch(err => {\n    //         this.props.hideLoader();\n    //         showToast(\n    //           err.reason && err.reason.length\n    //             ? err.reason\n    //             : \"Server error. Try again after sometime.\",\n    //           \"error\"\n    //         );\n    //       });\n    //   };\n    value: function render() {\n      var _deepClone = deepClone(this.state),\n          feed = _deepClone.feed,\n          loading = _deepClone.loading;\n\n      console.log(\"TCL: PostDetailsPage -> render -> feed\", feed);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app TruFansPgBg animated fadeIn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"ghost-dark\",\n        className: \"customBackBtn\",\n        style: {\n          paddingTop: 30,\n          paddingLeft: 80\n        },\n        onClick: this.props.history.goBack,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-arrow-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      })), loading.loadingData && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filterWrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading-section list-loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }), \" \\xA0 Fetching post details...\")), \" \", !loading.loadingData && /*#__PURE__*/React.createElement(Row, {\n        className: \"mb-4 justify-content-center mt-3 mt-sm-3 mt-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 12,\n        md: 10,\n        lg: 8,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }\n      }, feed ? /*#__PURE__*/React.createElement(CreatorFeedViewer, Object.assign({\n        feed: feed,\n        user: feed._influencer\n      }, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 19\n        }\n      })) : null))));\n    }\n  }]);\n\n  return PostDetailsPage;\n}(Component);\n\nexport default PostDetailsPage;","map":{"version":3,"sources":["/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/post-details-page.jsx"],"names":["React","Component","Col","Container","Row","Button","deepClone","showToast","getPostDetails","SubscriberFeedViewer","CreatorFeedViewer","PostDetailsPage","state","feed","JSON","parse","localStorage","getItem","loading","loadingData","sendingMessage","_manageLoading","key","value","changeStatusLoading","setState","_fetchPostDetails","props","match","params","id","then","res","console","log","post","catch","err","reason","length","history","goBack","paddingTop","paddingLeft","_influencer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Col, Container, Row, Button } from \"reactstrap\";\nimport { deepClone, showToast } from \"../helper-methods\";\nimport { getPostDetails } from \"../http/http-calls\";\nimport SubscriberFeedViewer from \"../components/subscriber-feed-viewer\";\nimport CreatorFeedViewer from \"../components/creator-feed-viewer\";\n\nclass PostDetailsPage extends Component {\n  state = {\n    feed: JSON.parse(localStorage.getItem(\"feed\")),\n    loading: {\n      loadingData: false,\n      sendingMessage: false\n    }\n  };\n\n  componentDidMount() {\n    this._manageLoading(\"data\", true);\n\n    this._fetchPostDetails();\n  }\n\n  _manageLoading = (key, value) => {\n    let { loadingData, changeStatusLoading } = this.state.loading;\n    if (key === \"data\") {\n      loadingData = value;\n    } else if (key === \"change-status\") {\n      changeStatusLoading = value;\n    }\n    this.setState({ loading: { loadingData, changeStatusLoading } });\n  };\n\n  _fetchPostDetails = () => {\n    getPostDetails(this.props.match.params.id)\n      .then(res => {\n        console.log(\"TCL: PostDetailsPage -> res\", res);\n        this.setState(\n          {\n            feed: res.post\n          },\n          () => {\n            this._manageLoading(\"data\", false);\n            // this.props.hideLoader();\n          }\n        );\n      })\n      .catch(err => {\n        // this.props.hideLoader();\n        showToast(\n          err.reason && err.reason.length\n            ? err.reason\n            : \"Server error. Try again after sometime.\",\n          \"error\"\n        );\n        this.props.history.goBack();\n      });\n  };\n\n  //   _pinToProfile = (id, isPinned) => {\n\n  //     editPost({ isPinned }, id)\n  //       .then(response => {\n  //         showToast(\"Updated Successfully\", \"success\");\n  //         this._fetchPostDetails();\n  //         // this._scrollToTop();\n  //         // this._getPosts();\n  //       })\n  //       .catch(err => {\n  //         showToast(\n  //           err.reason && err.reason.length\n  //             ? err.reason\n  //             : \"Server error. Try again after sometime.\",\n  //           \"error\"\n  //         );\n  //       });\n  //   };\n\n  //   _deletePost = feed => {\n\n  //     deletPost(feed.id)\n  //       .then(resp => {\n  //         this.props.hideLoader();\n  //         showToast(\"Deleted Successfully\", \"success\");\n  //         this.props.history.push(\"/feed\");\n  //         // this._getPosts();\n  //       })\n  //       .catch(err => {\n  //         this.props.hideLoader();\n\n  //         showToast(\n  //           err.reason && err.reason.length\n  //             ? err.reason\n  //             : \"Server error. Try again after sometime.\",\n  //           \"error\"\n  //         );\n  //       });\n  //   };\n\n  render() {\n    const { feed, loading } = deepClone(this.state);\n    console.log(\"TCL: PostDetailsPage -> render -> feed\", feed);\n    return (\n      <div className=\"app TruFansPgBg animated fadeIn\">\n        <Container>\n          <Button\n            color=\"ghost-dark\"\n            className=\"customBackBtn\"\n            style={{ paddingTop: 30, paddingLeft: 80 }}\n            onClick={this.props.history.goBack}\n          >\n            <i className=\"fa fa-arrow-left\"></i>\n          </Button>\n          {loading.loadingData && (\n            <div className=\"filterWrap\">\n              <div className=\"loading-section list-loading\">\n                <i className=\"fa fa-spinner fa-spin\"></i> &nbsp; Fetching post\n                details...\n              </div>\n            </div>\n          )}{\" \"}\n          {!loading.loadingData && (\n            <Row className=\"mb-4 justify-content-center mt-3 mt-sm-3 mt-md-4\">\n              <Col sm={12} md={10} lg={8}>\n                {feed ? (\n                  <CreatorFeedViewer feed={feed} user={feed._influencer} {...this.props} />\n                ) : null}\n              </Col>\n            </Row>\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default PostDetailsPage;\n"]},"metadata":{},"sourceType":"module"}