{"ast":null,"code":"import _regeneratorRuntime from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/events-view.js\";\nimport React, { Component } from \"react\";\nimport { ToastsStore } from \"react-toasts\";\nimport { Button, Card, CardBody, CardHeader, Col, Container, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText, Label, ListGroup, ListGroupItem, Nav, NavItem, NavLink, Row, TabContent, TabPane } from \"reactstrap\";\nimport CreatorFeedList from \"../components/creator-feed-list\";\nimport ReferralsListModal from \"../components/referrals-list-modal\";\nimport SubscriberListModal from \"../components/subscriber-list-modal\";\nimport CopyclipBoard from \"../components/copy-clipboard\";\nimport config from \"../config/index\";\nimport { changeUserStatus, getCreatorDetails, updateInfluencerDetails, getLiveEventDetails } from \"../http/http-calls\";\nimport { deepClone, showToast } from \"../helper-methods\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport ReadMoreAndLess from \"react-read-more-less\";\n\nvar EventsView = /*#__PURE__*/function (_Component) {\n  _inherits(EventsView, _Component);\n\n  var _super = _createSuper(EventsView);\n\n  function EventsView(props) {\n    var _this;\n\n    _classCallCheck(this, EventsView);\n\n    _this = _super.call(this, props);\n\n    _this._goBack = function () {\n      // this.props.history.push(\"/creators\");\n      _this.props.history.goBack();\n    };\n\n    _this._manageLoading = function (key, value) {\n      var _this$state$loading = _this.state.loading,\n          loadingData = _this$state$loading.loadingData,\n          changeStatusLoading = _this$state$loading.changeStatusLoading;\n\n      if (key === \"data\") {\n        loadingData = value;\n      } else if (key === \"change-status\") {\n        changeStatusLoading = value;\n      }\n\n      _this.setState({\n        loading: {\n          loadingData: loadingData,\n          changeStatusLoading: changeStatusLoading\n        }\n      });\n    };\n\n    _this._getEventDetails = function (id) {\n      _this._manageLoading(\"data\", true);\n\n      getLiveEventDetails(id).then(function (response) {\n        var event = response.event,\n            transactions = response.transactions;\n\n        _this.setState({\n          event: event,\n          transactions: transactions\n        }, function () {\n          _this._manageLoading(\"data\", false);\n        });\n      }, function (error) {\n        console.log(error);\n\n        _this._manageLoading(\"data\", false);\n      });\n    };\n\n    _this._redirectToSubscriberView = function (subscriber) {\n      _this.props.history.push(\"/subscriber-view/\" + subscriber._id);\n    };\n\n    _this._markAsDirty = function (fieldName) {\n      var _deepClone = deepClone(_this.state),\n          formFields = _deepClone.formFields;\n\n      formFields[fieldName].isDirty = true;\n      formFields[fieldName].isTyped = true;\n\n      _this.setState({\n        formFields: formFields\n      }, function () {\n        _this._validateForm();\n      });\n    };\n\n    _this._updateFieldValue = function (fieldName, value) {\n      var _deepClone2 = deepClone(_this.state),\n          formFields = _deepClone2.formFields;\n\n      if (fieldName === \"referPercentage\" || fieldName === \"earningPercentage\") {\n        // Check if contains valid number\n        if (!isNaN(Number(value))) {\n          var inputParts = value.split(\".\");\n\n          if (inputParts.length === 2) {\n            // Has decimals\n            if (inputParts[1].length > 2) {\n              return;\n            }\n          }\n        }\n      }\n\n      formFields[fieldName].value = value;\n\n      _this.setState({\n        formFields: formFields\n      }, function () {\n        if (formFields[fieldName].isDirty) {\n          // Validate\n          _this._validateForm();\n        }\n      });\n    };\n\n    _this._validateForm = function () {\n      return new Promise(function (resolve) {\n        var _deepClone3 = deepClone(_this.state),\n            formFields = _deepClone3.formFields,\n            platformShare = _deepClone3.platformShare;\n\n        var isFormValid = true;\n        Object.keys(formFields).forEach(function (fieldName, index) {\n          if (formFields[fieldName][\"isTyped\"]) {\n            switch (fieldName) {\n              case \"referPercentage\":\n              case \"earningPercentage\":\n                {\n                  if (String(formFields[fieldName].value).length && !isNaN(Number(formFields[fieldName].value)) && Number(formFields[fieldName].value) >= 0 && Math.ceil(formFields[fieldName].value) <= 100) {\n                    formFields[fieldName].isValid = true;\n                  } else {\n                    formFields[fieldName].isValid = false;\n                    isFormValid = false;\n                  }\n\n                  break; // if (\n                  //   formFields[fieldName][\"isRequired\"] &&\n                  //   formFields[fieldName].value.length\n                  // ) {\n                  //   if (\n                  //     config.regexConfig.digitOnly.test(\n                  //       String(formFields[fieldName].value).toLowerCase()\n                  //     )\n                  //   ) {\n                  //     if (\n                  //       Number(formFields[fieldName].value) >= 0 &&\n                  //       Number(formFields[fieldName].value) < 100\n                  //     ) {\n                  //       formFields[fieldName].isValid = true;\n                  //     } else {\n                  //       formFields[fieldName].isValid = false;\n                  //       isFormValid = false;\n                  //     }\n                  //   } else {\n                  //     formFields[fieldName].isValid = false;\n                  //     isFormValid = false;\n                  //   }\n                  // } else {\n                  //   formFields[fieldName].isValid = false;\n                  //   isFormValid = false;\n                  // }\n                  // break;\n                }\n\n              default:\n                {\n                  break;\n                }\n            }\n          }\n        });\n\n        _this.setState({\n          formFields: formFields,\n          isFormValid: isFormValid\n        }, function () {\n          resolve();\n        }); // this.setState(\n        //   {\n        //     formFields\n        //   },\n        //   async () => {\n        //     await this._calculatePlatformShare();\n        //     this.setState(\n        //       {\n        //         isFormValid: !isFormValid\n        //           ? isFormValid\n        //           : platformShare < 0\n        //           ? false\n        //           : true\n        //       },\n        //       () => {\n        //         resolve();\n        //       }\n        //     );\n        //   }\n        // );\n\n      });\n    };\n\n    _this._makeAllFieldDirty = function () {\n      return new Promise(function (resolve) {\n        var _deepClone4 = deepClone(_this.state),\n            formFields = _deepClone4.formFields;\n\n        Object.keys(formFields).forEach(function (fieldName, index) {\n          formFields[fieldName].isDirty = true;\n        });\n\n        _this.setState({\n          formFields: formFields\n        }, function () {\n          resolve();\n        });\n      });\n    };\n\n    _this._validateAndSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var _this$state, formFields, isFormValid;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                _context.next = 3;\n                return _this._makeAllFieldDirty();\n\n              case 3:\n                _context.next = 5;\n                return _this._validateForm();\n\n              case 5:\n                _this$state = _this.state, formFields = _this$state.formFields, isFormValid = _this$state.isFormValid;\n\n                if (isFormValid) {\n                  // form is valid\n                  console.log(\"valid\");\n\n                  _this._updateShareSettings();\n                } else {\n                  // form is not valid\n                  console.log(\"not valid\");\n                }\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this._updateShareSettings = function () {\n      var _deepClone5 = deepClone(_this.state),\n          formFields = _deepClone5.formFields,\n          creatorDetails = _deepClone5.creatorDetails;\n\n      updateInfluencerDetails(creatorDetails.id, {\n        earningPercentage: Number(formFields.earningPercentage.value),\n        referPercentage: Number(formFields.referPercentage.value)\n      }).then(function (response) {\n        _this._manageLoading(\"change-status\", false);\n\n        ToastsStore.success(\"Updated Successfully!\", 3000);\n      }).catch(function (error) {\n        _this._manageLoading(\"change-status\", false); // ToastsStore.error(error.reason, 3000);\n\n\n        showToast(error.reason && error.reason.length ? error.reason : \"Server error. Try again after sometime.\", \"error\");\n      });\n    };\n\n    _this._calculatePlatformShare = function () {\n      return new Promise(function (resolve) {\n        var _deepClone6 = deepClone(_this.state),\n            formFields = _deepClone6.formFields,\n            isInitial = _deepClone6.isInitial;\n\n        _this.setState({\n          platformShare: 100 - (Number(formFields.referPercentage.value || 0) + Number(formFields.earningPercentage.value || 0)),\n          isInitial: false\n        }, function () {\n          resolve();\n        });\n      }); // if (\n      //   isInitial ||\n      //   (formFields.referPercentage.value.length &&\n      //     formFields.earningPercentage.value.length)\n      // ) {\n      //   this.setState({\n      //     platformShare:\n      //       100 -\n      //       (Number(formFields.referPercentage.value || 0) +\n      //         Number(formFields.earningPercentage.value || 0)),\n      //     isInitial: false\n      //   });\n      // }\n    };\n\n    _this._getFilteredData = function (arr, requiredAttr, searchingAttr, searchingValue) {\n      var defaultReturnValue = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n      var filteredArr = arr.filter(function (item) {\n        return item.hasOwnProperty(searchingAttr) && item[searchingAttr] === searchingValue;\n      });\n\n      if (filteredArr.length && filteredArr[0].hasOwnProperty(requiredAttr)) {\n        return filteredArr[0][requiredAttr];\n      } else {\n        return defaultReturnValue;\n      }\n    };\n\n    _this.state = {\n      platformShare: 0,\n      isAdditionError: false,\n      isInitial: true,\n      isFormValid: false,\n      idCardUrl: null,\n      holdingIDCardUrl: null,\n      formFields: {\n        referPercentage: {\n          value: \"\",\n          isValid: false,\n          isDirty: false,\n          isRequired: true,\n          isTyped: false\n        },\n        earningPercentage: {\n          value: \"\",\n          isValid: false,\n          isDirty: false,\n          isRequired: true,\n          isTyped: false\n        }\n      },\n      subscriberModal: {\n        isOpen: false,\n        data: null\n      },\n      referralsModal: {\n        isOpen: false,\n        data: null\n      },\n      activeTab: new Array(2).fill(\"1\"),\n      creatorDetails: null,\n      loading: {\n        loadingData: true,\n        changeStatusLoading: false\n      },\n      event: {\n        _influencer: {}\n      },\n      transactions: [],\n      availableReferrralCount: 0,\n      additionalReferralCount: 0\n    };\n    return _this;\n  }\n\n  _createClass(EventsView, [{\n    key: \"toggle\",\n    value: function toggle(tabPane, tab) {\n      var _this2 = this;\n\n      var newArray = this.state.activeTab.slice();\n      newArray[tabPane] = tab;\n      this.setState({\n        activeTab: newArray\n      }, function () {\n        if (Number(tab) === 2) {\n          _this2._updateChildActivites();\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._manageLoading(\"data\", true);\n\n      this._getEventDetails(this.props.match.params.id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          event = _this$state2.event,\n          influencer = _this$state2.event._influencer,\n          transactions = _this$state2.transactions,\n          loading = _this$state2.loading;\n      console.log(\"event :>> \", event);\n      return Object.keys(event).length > 1 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app TruFansPgBg animated fadeIn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 7\n        }\n      }, !loading.loadingData && /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"events-view\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"PgTitle mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-start align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"ghost-dark\",\n        className: \"customBackBtn\",\n        onClick: function onClick() {\n          return _this3.props.history.push(\"/live-events\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-arrow-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 19\n        }\n      }, \"Back To Live Events\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-4 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ProfileCard card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"align-items-center d-flex flex-column card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profileImgWrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"profileImg\",\n        src: influencer && influencer.profilePicture && influencer.profilePicture.length ? influencer.profilePicture : config.defaultUserPicture,\n        alt: \"Profile Img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"mt-2 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 23\n        }\n      }, influencer.name.full, \"\\xA0\", /*#__PURE__*/React.createElement(\"img\", {\n        src: \"https://www.countryflags.io/\".concat(influencer.address.country, \"/flat/24.png\"),\n        alt: \"flag\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 23\n        }\n      }, \"Date & Time :\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 25\n        }\n      }, moment(event.scheduledAt).format(\"LLL\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-footer new-card-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 23\n        }\n      }, \"Price\"), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table new-table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"../assets/img/price-icon1.png\",\n        className: \"price-icon\",\n        alt: \"Basic Price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"../assets/img/price-icon2.png\",\n        className: \"price-icon\",\n        alt: \"Plus Price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"../assets/img/price-icon3.png\",\n        className: \"price-icon\",\n        alt: \"Premium Price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 27\n        }\n      }, \"$\", event.price || 0), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 27\n        }\n      }, \"$ \", event.plusPrice || 0), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 27\n        }\n      }, \"$ \", event.premiumPrice || 0)))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ProfileCard card event-details-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: event.coverImage && event.coverImage.length ? event.coverImage : config.defaultCoverPicture,\n        alt: \"event pic\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"mt-2 mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 25\n        }\n      }, \"Event Name : \"), event.name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 23\n        }\n      }, event.description && event.description.length ? /*#__PURE__*/React.createElement(ReadMoreAndLess, {\n        className: \"read-more-content\",\n        charLimit: 80,\n        readMoreText: \"Read more\",\n        readLessText: \"Read less\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 27\n        }\n      }, event.description) : null))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-12 mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 19\n        }\n      }, \"Attendees\"), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table new-table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 25\n        }\n      }, \"Subscriber\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 25\n        }\n      }, \"Amount Paid\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 25\n        }\n      }, \"Transaction ID\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 25\n        }\n      }, \"Status\"))), transactions.length ? /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 23\n        }\n      }, transactions.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: item.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"d-flex justify-content-start align-items-center\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"personImgWrap\",\n          onClick: function onClick() {\n            return _this3._redirectToSubscriberView(item._from);\n          },\n          style: {\n            cursor: \"pointer\"\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"personImg\",\n          src: item._from && item._from.profilePicture && item._from.profilePicture.length ? item._from.profilePicture : config.defaultUserPicture,\n          alt: \"Profile Thumbnail\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"p\", {\n          onClick: function onClick() {\n            return _this3._redirectToSubscriberView(item._from);\n          },\n          style: {\n            cursor: \"pointer\"\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 35\n          }\n        }, item._from.name.full)))), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 29\n          }\n        }, \"$\", item.amount || 0), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 29\n          }\n        }, item.transactionId), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"capitalize\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 29\n          }\n        }, item.status));\n      })) : /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 25\n        }\n      }, \"No attendees yet\"))))))), loading.loadingData && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"filterWrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loading-section list-loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 15\n        }\n      }), \" \\xA0 Loading Event Details..\"))) : null;\n    }\n  }]);\n\n  return EventsView;\n}(Component);\n\nexport default EventsView;","map":{"version":3,"sources":["/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/events-view.js"],"names":["React","Component","ToastsStore","Button","Card","CardBody","CardHeader","Col","Container","Form","FormGroup","Input","InputGroup","InputGroupAddon","InputGroupText","Label","ListGroup","ListGroupItem","Nav","NavItem","NavLink","Row","TabContent","TabPane","CreatorFeedList","ReferralsListModal","SubscriberListModal","CopyclipBoard","config","changeUserStatus","getCreatorDetails","updateInfluencerDetails","getLiveEventDetails","deepClone","showToast","Link","moment","ReadMoreAndLess","EventsView","props","_goBack","history","goBack","_manageLoading","key","value","state","loading","loadingData","changeStatusLoading","setState","_getEventDetails","id","then","response","event","transactions","error","console","log","_redirectToSubscriberView","subscriber","push","_id","_markAsDirty","fieldName","formFields","isDirty","isTyped","_validateForm","_updateFieldValue","isNaN","Number","inputParts","split","length","Promise","resolve","platformShare","isFormValid","Object","keys","forEach","index","String","Math","ceil","isValid","_makeAllFieldDirty","_validateAndSubmit","e","preventDefault","_updateShareSettings","creatorDetails","earningPercentage","referPercentage","success","catch","reason","_calculatePlatformShare","isInitial","_getFilteredData","arr","requiredAttr","searchingAttr","searchingValue","defaultReturnValue","filteredArr","filter","item","hasOwnProperty","isAdditionError","idCardUrl","holdingIDCardUrl","isRequired","subscriberModal","isOpen","data","referralsModal","activeTab","Array","fill","_influencer","availableReferrralCount","additionalReferralCount","tabPane","tab","newArray","slice","_updateChildActivites","match","params","influencer","profilePicture","defaultUserPicture","name","full","address","country","scheduledAt","format","price","plusPrice","premiumPrice","coverImage","defaultCoverPicture","description","map","_from","cursor","amount","transactionId","status"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SACEC,MADF,EAEEC,IAFF,EAGEC,QAHF,EAIEC,UAJF,EAKEC,GALF,EAMEC,SANF,EAOEC,IAPF,EAQEC,SARF,EASEC,KATF,EAUEC,UAVF,EAWEC,eAXF,EAYEC,cAZF,EAaEC,KAbF,EAcEC,SAdF,EAeEC,aAfF,EAgBEC,GAhBF,EAiBEC,OAjBF,EAkBEC,OAlBF,EAmBEC,GAnBF,EAoBEC,UApBF,EAqBEC,OArBF,QAsBO,YAtBP;AAuBA,OAAOC,eAAP,MAA4B,iCAA5B;AACA,OAAOC,kBAAP,MAA+B,oCAA/B;AACA,OAAOC,mBAAP,MAAgC,qCAAhC;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SACEC,gBADF,EAEEC,iBAFF,EAGEC,uBAHF,EAIEC,mBAJF,QAKO,oBALP;AAMA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,mBAArC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,eAAP,MAA4B,sBAA5B;;IAEMC,U;;;;;AACJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UA+DnBC,OA/DmB,GA+DT,YAAM;AACd;AACA,YAAKD,KAAL,CAAWE,OAAX,CAAmBC,MAAnB;AACD,KAlEkB;;AAAA,UAoEnBC,cApEmB,GAoEF,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAAA,gCACY,MAAKC,KAAL,CAAWC,OADvB;AAAA,UACzBC,WADyB,uBACzBA,WADyB;AAAA,UACZC,mBADY,uBACZA,mBADY;;AAE/B,UAAIL,GAAG,KAAK,MAAZ,EAAoB;AAClBI,QAAAA,WAAW,GAAGH,KAAd;AACD,OAFD,MAEO,IAAID,GAAG,KAAK,eAAZ,EAA6B;AAClCK,QAAAA,mBAAmB,GAAGJ,KAAtB;AACD;;AACD,YAAKK,QAAL,CAAc;AAAEH,QAAAA,OAAO,EAAE;AAAEC,UAAAA,WAAW,EAAXA,WAAF;AAAeC,UAAAA,mBAAmB,EAAnBA;AAAf;AAAX,OAAd;AACD,KA5EkB;;AAAA,UA8EnBE,gBA9EmB,GA8EA,UAAAC,EAAE,EAAI;AACvB,YAAKT,cAAL,CAAoB,MAApB,EAA4B,IAA5B;;AACAX,MAAAA,mBAAmB,CAACoB,EAAD,CAAnB,CAAwBC,IAAxB,CACE,UAAAC,QAAQ,EAAI;AAAA,YACFC,KADE,GACsBD,QADtB,CACFC,KADE;AAAA,YACKC,YADL,GACsBF,QADtB,CACKE,YADL;;AAEV,cAAKN,QAAL,CACE;AACEK,UAAAA,KAAK,EAALA,KADF;AAEEC,UAAAA,YAAY,EAAZA;AAFF,SADF,EAKE,YAAM;AACJ,gBAAKb,cAAL,CAAoB,MAApB,EAA4B,KAA5B;AACD,SAPH;AASD,OAZH,EAaE,UAAAc,KAAK,EAAI;AACPC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AACA,cAAKd,cAAL,CAAoB,MAApB,EAA4B,KAA5B;AACD,OAhBH;AAkBD,KAlGkB;;AAAA,UAoGnBiB,yBApGmB,GAoGS,UAAAC,UAAU,EAAI;AACxC,YAAKtB,KAAL,CAAWE,OAAX,CAAmBqB,IAAnB,CAAwB,sBAAsBD,UAAU,CAACE,GAAzD;AACD,KAtGkB;;AAAA,UA6GnBC,YA7GmB,GA6GJ,UAAAC,SAAS,EAAI;AAAA,uBACHhC,SAAS,CAAC,MAAKa,KAAN,CADN;AAAA,UAClBoB,UADkB,cAClBA,UADkB;;AAE1BA,MAAAA,UAAU,CAACD,SAAD,CAAV,CAAsBE,OAAtB,GAAgC,IAAhC;AACAD,MAAAA,UAAU,CAACD,SAAD,CAAV,CAAsBG,OAAtB,GAAgC,IAAhC;;AAEA,YAAKlB,QAAL,CAAc;AAAEgB,QAAAA,UAAU,EAAVA;AAAF,OAAd,EAA8B,YAAM;AAClC,cAAKG,aAAL;AACD,OAFD;AAGD,KArHkB;;AAAA,UAuHnBC,iBAvHmB,GAuHC,UAACL,SAAD,EAAYpB,KAAZ,EAAsB;AAAA,wBACjBZ,SAAS,CAAC,MAAKa,KAAN,CADQ;AAAA,UAChCoB,UADgC,eAChCA,UADgC;;AAExC,UAAID,SAAS,KAAK,iBAAd,IAAmCA,SAAS,KAAK,mBAArD,EAA0E;AACxE;AACA,YAAI,CAACM,KAAK,CAACC,MAAM,CAAC3B,KAAD,CAAP,CAAV,EAA2B;AACzB,cAAM4B,UAAU,GAAG5B,KAAK,CAAC6B,KAAN,CAAY,GAAZ,CAAnB;;AACA,cAAID,UAAU,CAACE,MAAX,KAAsB,CAA1B,EAA6B;AAC3B;AACA,gBAAIF,UAAU,CAAC,CAAD,CAAV,CAAcE,MAAd,GAAuB,CAA3B,EAA8B;AAC5B;AACD;AACF;AACF;AACF;;AAEDT,MAAAA,UAAU,CAACD,SAAD,CAAV,CAAsBpB,KAAtB,GAA8BA,KAA9B;;AACA,YAAKK,QAAL,CAAc;AAAEgB,QAAAA,UAAU,EAAVA;AAAF,OAAd,EAA8B,YAAM;AAClC,YAAIA,UAAU,CAACD,SAAD,CAAV,CAAsBE,OAA1B,EAAmC;AACjC;AACA,gBAAKE,aAAL;AACD;AACF,OALD;AAMD,KA7IkB;;AAAA,UA+InBA,aA/ImB,GA+IH,YAAM;AACpB,aAAO,IAAIO,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAAA,0BACU5C,SAAS,CAAC,MAAKa,KAAN,CADnB;AAAA,YACpBoB,UADoB,eACpBA,UADoB;AAAA,YACRY,aADQ,eACRA,aADQ;;AAE5B,YAAIC,WAAW,GAAG,IAAlB;AACAC,QAAAA,MAAM,CAACC,IAAP,CAAYf,UAAZ,EAAwBgB,OAAxB,CAAgC,UAACjB,SAAD,EAAYkB,KAAZ,EAAsB;AACpD,cAAIjB,UAAU,CAACD,SAAD,CAAV,CAAsB,SAAtB,CAAJ,EAAsC;AACpC,oBAAQA,SAAR;AACE,mBAAK,iBAAL;AACA,mBAAK,mBAAL;AAA0B;AACxB,sBACEmB,MAAM,CAAClB,UAAU,CAACD,SAAD,CAAV,CAAsBpB,KAAvB,CAAN,CAAoC8B,MAApC,IACA,CAACJ,KAAK,CAACC,MAAM,CAACN,UAAU,CAACD,SAAD,CAAV,CAAsBpB,KAAvB,CAAP,CADN,IAEA2B,MAAM,CAACN,UAAU,CAACD,SAAD,CAAV,CAAsBpB,KAAvB,CAAN,IAAuC,CAFvC,IAGAwC,IAAI,CAACC,IAAL,CAAUpB,UAAU,CAACD,SAAD,CAAV,CAAsBpB,KAAhC,KAA0C,GAJ5C,EAKE;AACAqB,oBAAAA,UAAU,CAACD,SAAD,CAAV,CAAsBsB,OAAtB,GAAgC,IAAhC;AACD,mBAPD,MAOO;AACLrB,oBAAAA,UAAU,CAACD,SAAD,CAAV,CAAsBsB,OAAtB,GAAgC,KAAhC;AACAR,oBAAAA,WAAW,GAAG,KAAd;AACD;;AACD,wBAZwB,CAaxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAED;AAAS;AACP;AACD;AA9CH;AAgDD;AACF,SAnDD;;AAoDA,cAAK7B,QAAL,CACE;AACEgB,UAAAA,UAAU,EAAVA,UADF;AAEEa,UAAAA,WAAW,EAAXA;AAFF,SADF,EAKE,YAAM;AACJF,UAAAA,OAAO;AACR,SAPH,EAvD4B,CAgE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD,OApFM,CAAP;AAqFD,KArOkB;;AAAA,UAuOnBW,kBAvOmB,GAuOE,YAAM;AACzB,aAAO,IAAIZ,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAAA,0BACL5C,SAAS,CAAC,MAAKa,KAAN,CADJ;AAAA,YACpBoB,UADoB,eACpBA,UADoB;;AAE5Bc,QAAAA,MAAM,CAACC,IAAP,CAAYf,UAAZ,EAAwBgB,OAAxB,CAAgC,UAACjB,SAAD,EAAYkB,KAAZ,EAAsB;AACpDjB,UAAAA,UAAU,CAACD,SAAD,CAAV,CAAsBE,OAAtB,GAAgC,IAAhC;AACD,SAFD;;AAGA,cAAKjB,QAAL,CAAc;AAAEgB,UAAAA,UAAU,EAAVA;AAAF,SAAd,EAA8B,YAAM;AAClCW,UAAAA,OAAO;AACR,SAFD;AAGD,OARM,CAAP;AASD,KAjPkB;;AAAA,UAmPnBY,kBAnPmB;AAAA,0EAmPE,iBAAMC,CAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AACnBA,gBAAAA,CAAC,CAACC,cAAF;AADmB;AAAA,uBAEb,MAAKH,kBAAL,EAFa;;AAAA;AAAA;AAAA,uBAGb,MAAKnB,aAAL,EAHa;;AAAA;AAAA,8BAIiB,MAAKvB,KAJtB,EAIXoB,UAJW,eAIXA,UAJW,EAICa,WAJD,eAICA,WAJD;;AAKnB,oBAAIA,WAAJ,EAAiB;AACf;AACArB,kBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AACA,wBAAKiC,oBAAL;AACD,iBAJD,MAIO;AACL;AACAlC,kBAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD;;AAZkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAnPF;;AAAA;AAAA;AAAA;AAAA;;AAAA,UAkQnBiC,oBAlQmB,GAkQI,YAAM;AAAA,wBACY3D,SAAS,CAAC,MAAKa,KAAN,CADrB;AAAA,UACnBoB,UADmB,eACnBA,UADmB;AAAA,UACP2B,cADO,eACPA,cADO;;AAE3B9D,MAAAA,uBAAuB,CAAC8D,cAAc,CAACzC,EAAhB,EAAoB;AACzC0C,QAAAA,iBAAiB,EAAEtB,MAAM,CAACN,UAAU,CAAC4B,iBAAX,CAA6BjD,KAA9B,CADgB;AAEzCkD,QAAAA,eAAe,EAAEvB,MAAM,CAACN,UAAU,CAAC6B,eAAX,CAA2BlD,KAA5B;AAFkB,OAApB,CAAvB,CAIGQ,IAJH,CAIQ,UAAAC,QAAQ,EAAI;AAChB,cAAKX,cAAL,CAAoB,eAApB,EAAqC,KAArC;;AACAzC,QAAAA,WAAW,CAAC8F,OAAZ,CAAoB,uBAApB,EAA6C,IAA7C;AACD,OAPH,EAQGC,KARH,CAQS,UAAAxC,KAAK,EAAI;AACd,cAAKd,cAAL,CAAoB,eAApB,EAAqC,KAArC,EADc,CAEd;;;AACAT,QAAAA,SAAS,CACPuB,KAAK,CAACyC,MAAN,IAAgBzC,KAAK,CAACyC,MAAN,CAAavB,MAA7B,GACIlB,KAAK,CAACyC,MADV,GAEI,yCAHG,EAIP,OAJO,CAAT;AAMD,OAjBH;AAkBD,KAtRkB;;AAAA,UAwRnBC,uBAxRmB,GAwRO,YAAM;AAC9B,aAAO,IAAIvB,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAAA,0BACM5C,SAAS,CAAC,MAAKa,KAAN,CADf;AAAA,YACpBoB,UADoB,eACpBA,UADoB;AAAA,YACRkC,SADQ,eACRA,SADQ;;AAE5B,cAAKlD,QAAL,CACE;AACE4B,UAAAA,aAAa,EACX,OACCN,MAAM,CAACN,UAAU,CAAC6B,eAAX,CAA2BlD,KAA3B,IAAoC,CAArC,CAAN,GACC2B,MAAM,CAACN,UAAU,CAAC4B,iBAAX,CAA6BjD,KAA7B,IAAsC,CAAvC,CAFR,CAFJ;AAKEuD,UAAAA,SAAS,EAAE;AALb,SADF,EAQE,YAAM;AACJvB,UAAAA,OAAO;AACR,SAVH;AAYD,OAdM,CAAP,CAD8B,CAiB9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAtTkB;;AAAA,UAwTnBwB,gBAxTmB,GAwTA,UACjBC,GADiB,EAEjBC,YAFiB,EAGjBC,aAHiB,EAIjBC,cAJiB,EAMd;AAAA,UADHC,kBACG,uEADkB,IAClB;AACH,UAAMC,WAAW,GAAGL,GAAG,CAACM,MAAJ,CAAW,UAAAC,IAAI,EAAI;AACrC,eACEA,IAAI,CAACC,cAAL,CAAoBN,aAApB,KACAK,IAAI,CAACL,aAAD,CAAJ,KAAwBC,cAF1B;AAID,OALmB,CAApB;;AAMA,UAAIE,WAAW,CAAChC,MAAZ,IAAsBgC,WAAW,CAAC,CAAD,CAAX,CAAeG,cAAf,CAA8BP,YAA9B,CAA1B,EAAuE;AACrE,eAAOI,WAAW,CAAC,CAAD,CAAX,CAAeJ,YAAf,CAAP;AACD,OAFD,MAEO;AACL,eAAOG,kBAAP;AACD;AACF,KA1UkB;;AAEjB,UAAK5D,KAAL,GAAa;AACXgC,MAAAA,aAAa,EAAE,CADJ;AAEXiC,MAAAA,eAAe,EAAE,KAFN;AAGXX,MAAAA,SAAS,EAAE,IAHA;AAIXrB,MAAAA,WAAW,EAAE,KAJF;AAKXiC,MAAAA,SAAS,EAAE,IALA;AAMXC,MAAAA,gBAAgB,EAAE,IANP;AAOX/C,MAAAA,UAAU,EAAE;AACV6B,QAAAA,eAAe,EAAE;AACflD,UAAAA,KAAK,EAAE,EADQ;AAEf0C,UAAAA,OAAO,EAAE,KAFM;AAGfpB,UAAAA,OAAO,EAAE,KAHM;AAIf+C,UAAAA,UAAU,EAAE,IAJG;AAKf9C,UAAAA,OAAO,EAAE;AALM,SADP;AAQV0B,QAAAA,iBAAiB,EAAE;AACjBjD,UAAAA,KAAK,EAAE,EADU;AAEjB0C,UAAAA,OAAO,EAAE,KAFQ;AAGjBpB,UAAAA,OAAO,EAAE,KAHQ;AAIjB+C,UAAAA,UAAU,EAAE,IAJK;AAKjB9C,UAAAA,OAAO,EAAE;AALQ;AART,OAPD;AAuBX+C,MAAAA,eAAe,EAAE;AACfC,QAAAA,MAAM,EAAE,KADO;AAEfC,QAAAA,IAAI,EAAE;AAFS,OAvBN;AA2BXC,MAAAA,cAAc,EAAE;AACdF,QAAAA,MAAM,EAAE,KADM;AAEdC,QAAAA,IAAI,EAAE;AAFQ,OA3BL;AA+BXE,MAAAA,SAAS,EAAE,IAAIC,KAAJ,CAAU,CAAV,EAAaC,IAAb,CAAkB,GAAlB,CA/BA;AAgCX5B,MAAAA,cAAc,EAAE,IAhCL;AAiCX9C,MAAAA,OAAO,EAAE;AACPC,QAAAA,WAAW,EAAE,IADN;AAEPC,QAAAA,mBAAmB,EAAE;AAFd,OAjCE;AAqCXM,MAAAA,KAAK,EAAE;AACLmE,QAAAA,WAAW,EAAE;AADR,OArCI;AAwCXlE,MAAAA,YAAY,EAAE,EAxCH;AAyCXmE,MAAAA,uBAAuB,EAAE,CAzCd;AA0CXC,MAAAA,uBAAuB,EAAE;AA1Cd,KAAb;AAFiB;AA8ClB;;;;2BAEMC,O,EAASC,G,EAAK;AAAA;;AACnB,UAAMC,QAAQ,GAAG,KAAKjF,KAAL,CAAWyE,SAAX,CAAqBS,KAArB,EAAjB;AACAD,MAAAA,QAAQ,CAACF,OAAD,CAAR,GAAoBC,GAApB;AACA,WAAK5E,QAAL,CACE;AACEqE,QAAAA,SAAS,EAAEQ;AADb,OADF,EAIE,YAAM;AACJ,YAAIvD,MAAM,CAACsD,GAAD,CAAN,KAAgB,CAApB,EAAuB;AACrB,UAAA,MAAI,CAACG,qBAAL;AACD;AACF,OARH;AAUD;;;wCA2CmB;AAClB,WAAKtF,cAAL,CAAoB,MAApB,EAA4B,IAA5B;;AACA,WAAKQ,gBAAL,CAAsB,KAAKZ,KAAL,CAAW2F,KAAX,CAAiBC,MAAjB,CAAwB/E,EAA9C;AACD;;;6BAiOQ;AAAA;;AAAA,yBAMH,KAAKN,KANF;AAAA,UAELS,KAFK,gBAELA,KAFK;AAAA,UAGiB6E,UAHjB,gBAGL7E,KAHK,CAGImE,WAHJ;AAAA,UAILlE,YAJK,gBAILA,YAJK;AAAA,UAKLT,OALK,gBAKLA,OALK;AAOPW,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BJ,KAA1B;AAEA,aAAOyB,MAAM,CAACC,IAAP,CAAY1B,KAAZ,EAAmBoB,MAAnB,GAA4B,CAA5B,gBACL;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,CAAC5B,OAAO,CAACC,WAAT,iBACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE,oBAAC,MAAD;AACE,QAAA,KAAK,EAAC,YADR;AAEE,QAAA,SAAS,EAAC,eAFZ;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACT,KAAL,CAAWE,OAAX,CAAmBqB,IAAnB,CAAwB,cAAxB,CAAN;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CAFF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BATF,CADF,CADF,eAcE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,SAAS,EAAC,YADZ;AAEE,QAAA,GAAG,EACDsE,UAAU,IACVA,UAAU,CAACC,cADX,IAEAD,UAAU,CAACC,cAAX,CAA0B1D,MAF1B,GAGIyD,UAAU,CAACC,cAHf,GAIIzG,MAAM,CAAC0G,kBAPf;AASE,QAAA,GAAG,EAAC,aATN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAcE;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGF,UAAU,CAACG,IAAX,CAAgBC,IADnB,uBAEE;AACE,QAAA,GAAG,wCAAiCJ,UAAU,CAACK,OAAX,CAAmBC,OAApD,iBADL;AAEE,QAAA,GAAG,EAAC,MAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAdF,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACgB,GADhB,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOtG,MAAM,CAACmB,KAAK,CAACoF,WAAP,CAAN,CAA0BC,MAA1B,CAAiC,KAAjC,CAAP,CAFF,CArBF,CAFF,eA4BE;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAC,+BADN;AAEE,QAAA,SAAS,EAAC,YAFZ;AAGE,QAAA,GAAG,EAAC,aAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAC,+BADN;AAEE,QAAA,SAAS,EAAC,YAFZ;AAGE,QAAA,GAAG,EAAC,YAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CARF,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAC,+BADN;AAEE,QAAA,SAAS,EAAC,YAFZ;AAGE,QAAA,GAAG,EAAC,eAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAfF,CADF,eAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAMrF,KAAK,CAACsF,KAAN,IAAe,CAArB,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAOtF,KAAK,CAACuF,SAAN,IAAmB,CAA1B,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAOvF,KAAK,CAACwF,YAAN,IAAsB,CAA7B,CAHF,CAxBF,CAFF,CA5BF,CADF,CADF,eAiEE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EACDxF,KAAK,CAACyF,UAAN,IAAoBzF,KAAK,CAACyF,UAAN,CAAiBrE,MAArC,GACIpB,KAAK,CAACyF,UADV,GAEIpH,MAAM,CAACqH,mBAJf;AAME,QAAA,GAAG,EAAC,WANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAWE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEG1F,KAAK,CAACgF,IAFT,CADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGhF,KAAK,CAAC2F,WAAN,IAAqB3F,KAAK,CAAC2F,WAAN,CAAkBvE,MAAvC,gBACC,oBAAC,eAAD;AACE,QAAA,SAAS,EAAC,mBADZ;AAEE,QAAA,SAAS,EAAE,EAFb;AAGE,QAAA,YAAY,EAAC,WAHf;AAIE,QAAA,YAAY,EAAC,WAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMGpB,KAAK,CAAC2F,WANT,CADD,GASG,IAVN,CALF,CAXF,CADF,CAjEF,CAdF,eAgHE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,CADF,CADF,EASG1F,YAAY,CAACmB,MAAb,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGnB,YAAY,CAAC2F,GAAb,CAAiB,UAACtC,IAAD,EAAO1B,KAAP;AAAA,4BAChB;AAAI,UAAA,GAAG,EAAE0B,IAAI,CAACzD,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AAAK,UAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE;AACE,UAAA,SAAS,EAAC,eADZ;AAEE,UAAA,OAAO,EAAE;AAAA,mBACP,MAAI,CAACQ,yBAAL,CAA+BiD,IAAI,CAACuC,KAApC,CADO;AAAA,WAFX;AAKE,UAAA,KAAK,EAAE;AAAEC,YAAAA,MAAM,EAAE;AAAV,WALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAOE;AACE,UAAA,SAAS,EAAC,WADZ;AAEE,UAAA,GAAG,EACDxC,IAAI,CAACuC,KAAL,IACAvC,IAAI,CAACuC,KAAL,CAAWf,cADX,IAEAxB,IAAI,CAACuC,KAAL,CAAWf,cAAX,CAA0B1D,MAF1B,GAGIkC,IAAI,CAACuC,KAAL,CAAWf,cAHf,GAIIzG,MAAM,CAAC0G,kBAPf;AASE,UAAA,GAAG,EAAC,mBATN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,CADF,eAoBE;AACE,UAAA,OAAO,EAAE;AAAA,mBACP,MAAI,CAAC1E,yBAAL,CAA+BiD,IAAI,CAACuC,KAApC,CADO;AAAA,WADX;AAIE,UAAA,KAAK,EAAE;AAAEC,YAAAA,MAAM,EAAE;AAAV,WAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAMGxC,IAAI,CAACuC,KAAL,CAAWb,IAAX,CAAgBC,IANnB,CApBF,CADF,CADF,CADF,eAkCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAM3B,IAAI,CAACyC,MAAL,IAAe,CAArB,CAlCF,eAmCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKzC,IAAI,CAAC0C,aAAV,CAnCF,eAoCE;AAAI,UAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG1C,IAAI,CAAC2C,MADR,CApCF,CADgB;AAAA,OAAjB,CADH,CADD,gBAwDC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CAjEJ,CAFF,CADF,CAhHF,CADF,CAFJ,EAkMGzG,OAAO,CAACC,WAAR,iBACC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,kCADF,CAnMJ,CADK,GA4MH,IA5MJ;AA6MD;;;;EAniBsB/C,S;;AAsiBzB,eAAeqC,UAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { ToastsStore } from \"react-toasts\";\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Container,\n  Form,\n  FormGroup,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Label,\n  ListGroup,\n  ListGroupItem,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  TabContent,\n  TabPane\n} from \"reactstrap\";\nimport CreatorFeedList from \"../components/creator-feed-list\";\nimport ReferralsListModal from \"../components/referrals-list-modal\";\nimport SubscriberListModal from \"../components/subscriber-list-modal\";\nimport CopyclipBoard from \"../components/copy-clipboard\";\nimport config from \"../config/index\";\nimport {\n  changeUserStatus,\n  getCreatorDetails,\n  updateInfluencerDetails,\n  getLiveEventDetails\n} from \"../http/http-calls\";\nimport { deepClone, showToast } from \"../helper-methods\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport ReadMoreAndLess from \"react-read-more-less\";\n\nclass EventsView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      platformShare: 0,\n      isAdditionError: false,\n      isInitial: true,\n      isFormValid: false,\n      idCardUrl: null,\n      holdingIDCardUrl: null,\n      formFields: {\n        referPercentage: {\n          value: \"\",\n          isValid: false,\n          isDirty: false,\n          isRequired: true,\n          isTyped: false\n        },\n        earningPercentage: {\n          value: \"\",\n          isValid: false,\n          isDirty: false,\n          isRequired: true,\n          isTyped: false\n        }\n      },\n      subscriberModal: {\n        isOpen: false,\n        data: null\n      },\n      referralsModal: {\n        isOpen: false,\n        data: null\n      },\n      activeTab: new Array(2).fill(\"1\"),\n      creatorDetails: null,\n      loading: {\n        loadingData: true,\n        changeStatusLoading: false\n      },\n      event: {\n        _influencer: {}\n      },\n      transactions: [],\n      availableReferrralCount: 0,\n      additionalReferralCount: 0\n    };\n  }\n\n  toggle(tabPane, tab) {\n    const newArray = this.state.activeTab.slice();\n    newArray[tabPane] = tab;\n    this.setState(\n      {\n        activeTab: newArray\n      },\n      () => {\n        if (Number(tab) === 2) {\n          this._updateChildActivites();\n        }\n      }\n    );\n  }\n\n  _goBack = () => {\n    // this.props.history.push(\"/creators\");\n    this.props.history.goBack();\n  };\n\n  _manageLoading = (key, value) => {\n    let { loadingData, changeStatusLoading } = this.state.loading;\n    if (key === \"data\") {\n      loadingData = value;\n    } else if (key === \"change-status\") {\n      changeStatusLoading = value;\n    }\n    this.setState({ loading: { loadingData, changeStatusLoading } });\n  };\n\n  _getEventDetails = id => {\n    this._manageLoading(\"data\", true);\n    getLiveEventDetails(id).then(\n      response => {\n        const { event, transactions } = response;\n        this.setState(\n          {\n            event,\n            transactions\n          },\n          () => {\n            this._manageLoading(\"data\", false);\n          }\n        );\n      },\n      error => {\n        console.log(error);\n        this._manageLoading(\"data\", false);\n      }\n    );\n  };\n\n  _redirectToSubscriberView = subscriber => {\n    this.props.history.push(\"/subscriber-view/\" + subscriber._id);\n  };\n\n  componentDidMount() {\n    this._manageLoading(\"data\", true);\n    this._getEventDetails(this.props.match.params.id);\n  }\n\n  _markAsDirty = fieldName => {\n    const { formFields } = deepClone(this.state);\n    formFields[fieldName].isDirty = true;\n    formFields[fieldName].isTyped = true;\n\n    this.setState({ formFields }, () => {\n      this._validateForm();\n    });\n  };\n\n  _updateFieldValue = (fieldName, value) => {\n    const { formFields } = deepClone(this.state);\n    if (fieldName === \"referPercentage\" || fieldName === \"earningPercentage\") {\n      // Check if contains valid number\n      if (!isNaN(Number(value))) {\n        const inputParts = value.split(\".\");\n        if (inputParts.length === 2) {\n          // Has decimals\n          if (inputParts[1].length > 2) {\n            return;\n          }\n        }\n      }\n    }\n\n    formFields[fieldName].value = value;\n    this.setState({ formFields }, () => {\n      if (formFields[fieldName].isDirty) {\n        // Validate\n        this._validateForm();\n      }\n    });\n  };\n\n  _validateForm = () => {\n    return new Promise(resolve => {\n      const { formFields, platformShare } = deepClone(this.state);\n      let isFormValid = true;\n      Object.keys(formFields).forEach((fieldName, index) => {\n        if (formFields[fieldName][\"isTyped\"]) {\n          switch (fieldName) {\n            case \"referPercentage\":\n            case \"earningPercentage\": {\n              if (\n                String(formFields[fieldName].value).length &&\n                !isNaN(Number(formFields[fieldName].value)) &&\n                Number(formFields[fieldName].value) >= 0 &&\n                Math.ceil(formFields[fieldName].value) <= 100\n              ) {\n                formFields[fieldName].isValid = true;\n              } else {\n                formFields[fieldName].isValid = false;\n                isFormValid = false;\n              }\n              break;\n              // if (\n              //   formFields[fieldName][\"isRequired\"] &&\n              //   formFields[fieldName].value.length\n              // ) {\n              //   if (\n              //     config.regexConfig.digitOnly.test(\n              //       String(formFields[fieldName].value).toLowerCase()\n              //     )\n              //   ) {\n              //     if (\n              //       Number(formFields[fieldName].value) >= 0 &&\n              //       Number(formFields[fieldName].value) < 100\n              //     ) {\n              //       formFields[fieldName].isValid = true;\n              //     } else {\n              //       formFields[fieldName].isValid = false;\n              //       isFormValid = false;\n              //     }\n              //   } else {\n              //     formFields[fieldName].isValid = false;\n              //     isFormValid = false;\n              //   }\n              // } else {\n              //   formFields[fieldName].isValid = false;\n              //   isFormValid = false;\n              // }\n              // break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      });\n      this.setState(\n        {\n          formFields,\n          isFormValid\n        },\n        () => {\n          resolve();\n        }\n      );\n      // this.setState(\n      //   {\n      //     formFields\n      //   },\n      //   async () => {\n      //     await this._calculatePlatformShare();\n      //     this.setState(\n      //       {\n      //         isFormValid: !isFormValid\n      //           ? isFormValid\n      //           : platformShare < 0\n      //           ? false\n      //           : true\n      //       },\n      //       () => {\n      //         resolve();\n      //       }\n      //     );\n      //   }\n      // );\n    });\n  };\n\n  _makeAllFieldDirty = () => {\n    return new Promise(resolve => {\n      const { formFields } = deepClone(this.state);\n      Object.keys(formFields).forEach((fieldName, index) => {\n        formFields[fieldName].isDirty = true;\n      });\n      this.setState({ formFields }, () => {\n        resolve();\n      });\n    });\n  };\n\n  _validateAndSubmit = async e => {\n    e.preventDefault();\n    await this._makeAllFieldDirty();\n    await this._validateForm();\n    const { formFields, isFormValid } = this.state;\n    if (isFormValid) {\n      // form is valid\n      console.log(\"valid\");\n      this._updateShareSettings();\n    } else {\n      // form is not valid\n      console.log(\"not valid\");\n    }\n  };\n\n  _updateShareSettings = () => {\n    const { formFields, creatorDetails } = deepClone(this.state);\n    updateInfluencerDetails(creatorDetails.id, {\n      earningPercentage: Number(formFields.earningPercentage.value),\n      referPercentage: Number(formFields.referPercentage.value)\n    })\n      .then(response => {\n        this._manageLoading(\"change-status\", false);\n        ToastsStore.success(\"Updated Successfully!\", 3000);\n      })\n      .catch(error => {\n        this._manageLoading(\"change-status\", false);\n        // ToastsStore.error(error.reason, 3000);\n        showToast(\n          error.reason && error.reason.length\n            ? error.reason\n            : \"Server error. Try again after sometime.\",\n          \"error\"\n        );\n      });\n  };\n\n  _calculatePlatformShare = () => {\n    return new Promise(resolve => {\n      const { formFields, isInitial } = deepClone(this.state);\n      this.setState(\n        {\n          platformShare:\n            100 -\n            (Number(formFields.referPercentage.value || 0) +\n              Number(formFields.earningPercentage.value || 0)),\n          isInitial: false\n        },\n        () => {\n          resolve();\n        }\n      );\n    });\n\n    // if (\n    //   isInitial ||\n    //   (formFields.referPercentage.value.length &&\n    //     formFields.earningPercentage.value.length)\n    // ) {\n    //   this.setState({\n    //     platformShare:\n    //       100 -\n    //       (Number(formFields.referPercentage.value || 0) +\n    //         Number(formFields.earningPercentage.value || 0)),\n    //     isInitial: false\n    //   });\n    // }\n  };\n\n  _getFilteredData = (\n    arr,\n    requiredAttr,\n    searchingAttr,\n    searchingValue,\n    defaultReturnValue = null\n  ) => {\n    const filteredArr = arr.filter(item => {\n      return (\n        item.hasOwnProperty(searchingAttr) &&\n        item[searchingAttr] === searchingValue\n      );\n    });\n    if (filteredArr.length && filteredArr[0].hasOwnProperty(requiredAttr)) {\n      return filteredArr[0][requiredAttr];\n    } else {\n      return defaultReturnValue;\n    }\n  };\n\n  render() {\n    let {\n      event,\n      event: { _influencer: influencer },\n      transactions,\n      loading\n    } = this.state;\n    console.log(\"event :>> \", event);\n\n    return Object.keys(event).length > 1 ? (\n      <div className=\"app TruFansPgBg animated fadeIn\">\n        {!loading.loadingData && (\n          <Container>\n            <div className=\"events-view\">\n              <div className=\"PgTitle mb-5\">\n                <div className=\"d-flex justify-content-start align-items-center\">\n                  {/* on clicking the below btn, it should take back user to creators page */}\n                  <Button\n                    color=\"ghost-dark\"\n                    className=\"customBackBtn\"\n                    onClick={() => this.props.history.push(\"/live-events\")}\n                  >\n                    <i className=\"fa fa-arrow-left\"></i>\n                  </Button>\n                  <h2>Back To Live Events</h2>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-4 \">\n                  <div className=\"ProfileCard card\">\n                    <div className=\"card-header\"></div>\n                    <div className=\"align-items-center d-flex flex-column card-body\">\n                      <div className=\"profileImgWrap\">\n                        <img\n                          className=\"profileImg\"\n                          src={\n                            influencer &&\n                            influencer.profilePicture &&\n                            influencer.profilePicture.length\n                              ? influencer.profilePicture\n                              : config.defaultUserPicture\n                          }\n                          alt=\"Profile Img\"\n                        />\n                      </div>\n                      <h4 className=\"mt-2 mb-2\">\n                        {influencer.name.full}&nbsp;\n                        <img\n                          src={`https://www.countryflags.io/${influencer.address.country}/flat/24.png`}\n                          alt=\"flag\"\n                        />\n                      </h4>\n                      <p>\n                        Date & Time :{\" \"}\n                        <span>{moment(event.scheduledAt).format(\"LLL\")}</span>\n                      </p>\n                    </div>\n                    <div className=\"card-footer new-card-footer\">\n                      <p>Price</p>\n                      <table className=\"table new-table\">\n                        <tr>\n                          <th>\n                            <img\n                              src=\"../assets/img/price-icon1.png\"\n                              className=\"price-icon\"\n                              alt=\"Basic Price\"\n                            />\n                          </th>\n                          <th>\n                            <img\n                              src=\"../assets/img/price-icon2.png\"\n                              className=\"price-icon\"\n                              alt=\"Plus Price\"\n                            />\n                          </th>\n                          <th>\n                            <img\n                              src=\"../assets/img/price-icon3.png\"\n                              className=\"price-icon\"\n                              alt=\"Premium Price\"\n                            />\n                          </th>\n                        </tr>\n                        <tr>\n                          <td>${event.price || 0}</td>\n                          <td>$ {event.plusPrice || 0}</td>\n                          <td>$ {event.premiumPrice || 0}</td>\n                        </tr>\n                      </table>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-sm-8\">\n                  <div className=\"ProfileCard card event-details-card\">\n                    <div className=\"card-header\">\n                      <img\n                        src={\n                          event.coverImage && event.coverImage.length\n                            ? event.coverImage\n                            : config.defaultCoverPicture\n                        }\n                        alt=\"event pic\"\n                      />\n                    </div>\n                    <div className=\"card-body\">\n                      <h4 className=\"mt-2 mb-3\">\n                        <span>Event Name : </span>\n                        {event.name}\n                      </h4>\n                      <p>\n                        {event.description && event.description.length ? (\n                          <ReadMoreAndLess\n                            className=\"read-more-content\"\n                            charLimit={80}\n                            readMoreText=\"Read more\"\n                            readLessText=\"Read less\"\n                          >\n                            {event.description}\n                          </ReadMoreAndLess>\n                        ) : null}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-12 mt-4\">\n                  <h3 className=\"mb-4\">Attendees</h3>\n                  <table className=\"table new-table\">\n                    <thead>\n                      <tr>\n                        <th>Subscriber</th>\n                        <th>Amount Paid</th>\n                        <th>Transaction ID</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    {transactions.length ? (\n                      <tbody>\n                        {transactions.map((item, index) => (\n                          <tr key={item.id}>\n                            <td>\n                              <div>\n                                <div className=\"d-flex justify-content-start align-items-center\">\n                                  <div\n                                    className=\"personImgWrap\"\n                                    onClick={() =>\n                                      this._redirectToSubscriberView(item._from)\n                                    }\n                                    style={{ cursor: \"pointer\" }}\n                                  >\n                                    <img\n                                      className=\"personImg\"\n                                      src={\n                                        item._from &&\n                                        item._from.profilePicture &&\n                                        item._from.profilePicture.length\n                                          ? item._from.profilePicture\n                                          : config.defaultUserPicture\n                                      }\n                                      alt=\"Profile Thumbnail\"\n                                    />\n                                  </div>\n                                  <p\n                                    onClick={() =>\n                                      this._redirectToSubscriberView(item._from)\n                                    }\n                                    style={{ cursor: \"pointer\" }}\n                                  >\n                                    {item._from.name.full}\n                                  </p>\n                                </div>\n                              </div>\n                            </td>\n                            <td>${item.amount || 0}</td>\n                            <td>{item.transactionId}</td>\n                            <td className=\"capitalize\">\n                              {item.status}\n                              {/* <Input\n                            type=\"select\"\n                            name=\"status\"\n                            style={{ width: \"175px\" }}\n                            className=\"capitalize\"\n                          >\n                            <option value=\"\">Status</option>\n                            <option value=\"\">Paid</option>\n                            <option value=\"\">Unpaid</option>\n                          </Input>*/}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    ) : (\n                      <tbody>\n                        <tr>No attendees yet</tr>\n                      </tbody>\n                    )}\n                  </table>\n                </div>\n              </div>\n            </div>\n          </Container>\n        )}\n\n        {loading.loadingData && (\n          <div className=\"filterWrap\">\n            <div className=\"loading-section list-loading\">\n              <i className=\"fa fa-spinner fa-spin\"></i> &nbsp; Loading Event\n              Details..\n            </div>\n          </div>\n        )}\n      </div>\n    ) : null;\n  }\n}\n\nexport default EventsView;\n"]},"metadata":{},"sourceType":"module"}