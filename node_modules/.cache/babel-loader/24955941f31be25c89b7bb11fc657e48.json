{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactAutosuggest = require('react-autosuggest');\n\nvar _reactAutosuggest2 = _interopRequireDefault(_reactAutosuggest);\n\nvar _radium = require('radium');\n\nvar _radium2 = _interopRequireDefault(_radium);\n\nvar _reactThemeable = require('react-themeable');\n\nvar _reactThemeable2 = _interopRequireDefault(_reactThemeable);\n\nvar _theme = require('./theme');\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _Chip = require('./Chip');\n\nvar _Chip2 = _interopRequireDefault(_Chip);\n\nvar _CallLimiter = require('./CallLimiter');\n\nvar _CallLimiter2 = _interopRequireDefault(_CallLimiter);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Chips = function (_Component) {\n  _inherits(Chips, _Component);\n\n  function Chips(props) {\n    _classCallCheck(this, Chips);\n\n    var _this = _possibleConstructorReturn(this, (Chips.__proto__ || Object.getPrototypeOf(Chips)).call(this, props));\n\n    _this.componentWillReceiveProps = function (nextProps) {\n      _this.asyncSuggestLimiter.interval = 1000 / nextProps.fetchSuggestionsThrushold;\n    };\n\n    _this.onBlur = function (e) {\n      _this.refs.wrapper.focus();\n\n      if (!_this.props.fromSuggestionsOnly) {\n        e.preventDefault();\n        if (_this.state.value.trim()) _this.addChip(_this.state.value);\n      } else {\n        _this.setState({\n          value: \"\"\n        });\n      }\n    };\n\n    _this.onFocus = function (e) {\n      _this.refs.wrapper.blur();\n    };\n\n    _this.handleKeyDown = function (e) {\n      if (e.keyCode === 13 && _this.lastEvent === e) {\n        _this.lastEvent = null;\n        return;\n      }\n\n      if (!_this.props.fromSuggestionsOnly && (_this.props.createChipKeys.includes(e.keyCode) || _this.props.createChipKeys.includes(e.key))) {\n        e.preventDefault();\n        if (_this.state.value.trim()) _this.addChip(_this.state.value);\n      }\n\n      if (e.keyCode === 8) {\n        _this.onBackspace();\n      } else if (_this.state.chipSelected) {\n        _this.setState({\n          chipSelected: false\n        });\n      }\n    };\n\n    _this.onBackspace = function (code) {\n      if (_this.state.value === \"\" && _this.props.value.length > 0) {\n        if (_this.state.chipSelected) {\n          var nextChips = _this.props.value.slice(0, -1);\n\n          _this.setState({\n            chipSelected: false,\n            chips: nextChips\n          });\n\n          _this.props.onChange(nextChips);\n        } else {\n          _this.setState({\n            chipSelected: true\n          });\n        }\n      }\n    };\n\n    _this.addChip = function (value) {\n      if (_this.props.uniqueChips && _this.props.value.indexOf(value) !== -1) {\n        _this.setState({\n          value: \"\"\n        });\n\n        return;\n      }\n\n      var chips = [].concat(_toConsumableArray(_this.props.value), [value]);\n\n      _this.props.onChange(chips);\n\n      _this.setState({\n        value: \"\"\n      });\n    };\n\n    _this.removeChip = function (idx) {\n      return function () {\n        var left = _this.props.value.slice(0, idx);\n\n        var right = _this.props.value.slice(idx + 1);\n\n        var nextChips = [].concat(_toConsumableArray(left), _toConsumableArray(right));\n\n        _this.props.onChange(nextChips);\n      };\n    };\n\n    _this.renderChips = function () {\n      return _this.props.value.map(function (chip, idx) {\n        return _react2.default.cloneElement(_this.props.renderChip(chip, _this.props.chipTheme), {\n          selected: _this.state.chipSelected && idx === _this.props.value.length - 1,\n          onRemove: _this.removeChip(idx),\n          index: idx,\n          key: 'chip' + idx\n        });\n      });\n    };\n\n    _this.filterUniqueChips = function (suggestions) {\n      var _this$props = _this.props,\n          value = _this$props.value,\n          getChipValue = _this$props.getChipValue,\n          getSuggestionValue = _this$props.getSuggestionValue;\n      return suggestions.filter(function (suggestion) {\n        return !value.some(function (chip) {\n          return getChipValue(chip) == getSuggestionValue(suggestion);\n        });\n      });\n    };\n\n    _this.callFetchSuggestions = function (fetchSuggestions, value, canceled) {\n      var uniqueChips = _this.props.uniqueChips;\n\n      var callback = function callback(suggestions) {\n        if (!canceled.isCancaled()) {\n          _this.setState({\n            loading: false,\n            suggestions: uniqueChips ? _this.filterUniqueChips(suggestions) : suggestions\n          });\n        }\n      };\n\n      var suggestionResult = fetchSuggestions.call(_this, value, callback);\n\n      if (suggestionResult && 'then' in suggestionResult) {\n        // To Support Promises\n        suggestionResult.then(callback);\n      }\n    };\n\n    _this.onSuggestionsFetchRequested = function (_ref) {\n      var value = _ref.value;\n      var _this$props2 = _this.props,\n          uniqueChips = _this$props2.uniqueChips,\n          suggestions = _this$props2.suggestions,\n          fetchSuggestions = _this$props2.fetchSuggestions,\n          suggestionsFilter = _this$props2.suggestionsFilter;\n\n      if (fetchSuggestions) {\n        _this.setState({\n          loading: true\n        });\n\n        _this.asyncSuggestLimiter.invoke(fetchSuggestions, value);\n      } else {\n        _this.setState({\n          suggestions: (uniqueChips ? _this.filterUniqueChips(suggestions) : suggestions).filter(function (opts) {\n            return suggestionsFilter(opts, value);\n          })\n        });\n      }\n    };\n\n    _this.onSuggestionsClearRequested = function () {\n      _this.setState({\n        suggestions: []\n      });\n    };\n\n    _this.onSuggestionSelected = function (e, _ref2) {\n      var suggestion = _ref2.suggestion;\n      _this.lastEvent = e;\n\n      _this.addChip(suggestion);\n\n      _this.setState({\n        value: ''\n      });\n    };\n\n    _this.onChange = function (e, _ref3) {\n      var newValue = _ref3.newValue;\n\n      if (!_this.props.fromSuggestionsOnly && newValue.indexOf(',') !== -1 && _this.props.createChipKeys.includes(9)) {\n        var chips = newValue.split(\",\").map(function (val) {\n          return val.trim();\n        }).filter(function (val) {\n          return val !== \"\";\n        });\n        chips.forEach(function (chip) {\n          _this.addChip(chip);\n        });\n      } else {\n        _this.setState({\n          value: newValue\n        });\n      }\n    };\n\n    _this._addLastChipIfAvailable = function () {};\n\n    _this.state = {\n      loading: false,\n      value: \"\",\n      chipSelected: false,\n      suggestions: []\n    };\n    _this.asyncSuggestLimiter = new _CallLimiter2.default(_this.callFetchSuggestions.bind(_this), 1000 / props.fetchSuggestionsThrushold);\n    return _this;\n  }\n\n  _createClass(Chips, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _state = this.state,\n          loading = _state.loading,\n          value = _state.value,\n          suggestions = _state.suggestions;\n      var _props = this.props,\n          placeholder = _props.placeholder,\n          renderLoading = _props.renderLoading;\n      var themr = (0, _reactThemeable2.default)(this.props.theme);\n      var inputProps = {\n        placeholder: placeholder,\n        value: value,\n        onChange: this.onChange,\n        onKeyDown: this.handleKeyDown,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus\n      };\n      return _react2.default.createElement('div', _extends({}, themr(200, 'chipsContainer'), {\n        ref: 'wrapper'\n      }), this.renderChips(), _react2.default.createElement(_reactAutosuggest2.default, _extends({}, this.props, {\n        theme: this.props.theme,\n        suggestions: this.state.suggestions,\n        onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n        onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n        getSuggestionValue: function getSuggestionValue(val) {\n          return _this2.state.value;\n        },\n        inputProps: inputProps,\n        onSuggestionSelected: this.onSuggestionSelected,\n        onBlur: this._addLastChipIfAvailable()\n      })), loading ? renderLoading() : null);\n    }\n  }]);\n\n  return Chips;\n}(_react.Component);\n\nChips.propTypes = {\n  value: _propTypes2.default.array.isRequired,\n  onChange: _propTypes2.default.func,\n  placeholder: _propTypes2.default.string,\n  theme: _propTypes2.default.object,\n  chipTheme: _propTypes2.default.object,\n  suggestions: _propTypes2.default.array,\n  fetchSuggestions: _propTypes2.default.func,\n  fetchSuggestionsThrushold: _propTypes2.default.number,\n  fromSuggestionsOnly: _propTypes2.default.bool,\n  uniqueChips: _propTypes2.default.bool,\n  renderChip: _propTypes2.default.func,\n  suggestionsFilter: _propTypes2.default.func,\n  getChipValue: _propTypes2.default.func,\n  createChipKeys: _propTypes2.default.array,\n  getSuggestionValue: _propTypes2.default.func,\n  renderSuggestion: _propTypes2.default.func,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  alwaysRenderSuggestions: _propTypes2.default.bool,\n  highlightFirstSuggestion: _propTypes2.default.bool,\n  focusInputOnSuggestionClick: _propTypes2.default.bool,\n  multiSection: _propTypes2.default.bool,\n  renderSectionTitle: _propTypes2.default.func,\n  getSectionSuggestions: _propTypes2.default.func\n};\nChips.defaultProps = {\n  placeholder: '',\n  theme: _theme2.default,\n  chipTheme: _theme.chipTheme,\n  suggestions: [],\n  fetchSuggestions: null,\n  fetchSuggestionsThrushold: 10,\n  createChipKeys: [9],\n  fromSuggestionsOnly: false,\n  uniqueChips: true,\n  getSuggestionValue: function getSuggestionValue(s) {\n    return s;\n  },\n  value: [],\n  onChange: function onChange() {},\n  renderChip: function renderChip(value, customTheme) {\n    return _react2.default.createElement(_Chip2.default, {\n      theme: customTheme\n    }, value);\n  },\n  renderLoading: function renderLoading() {\n    return _react2.default.createElement('span', null, 'Loading...');\n  },\n  renderSuggestion: function renderSuggestion(suggestion, _ref4) {\n    var query = _ref4.query;\n    return _react2.default.createElement('span', null, suggestion);\n  },\n  suggestionsFilter: function suggestionsFilter(opt, val) {\n    return opt.toLowerCase().indexOf(val.toLowerCase()) !== -1;\n  },\n  getChipValue: function getChipValue(item) {\n    return item;\n  }\n};\nexports.default = (0, _radium2.default)(Chips);","map":{"version":3,"sources":["/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/react-chips/lib/Chips.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactAutosuggest","_reactAutosuggest2","_radium","_radium2","_reactThemeable","_reactThemeable2","_theme","_theme2","_Chip","_Chip2","_CallLimiter","_CallLimiter2","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Chips","_Component","_this","getPrototypeOf","componentWillReceiveProps","nextProps","asyncSuggestLimiter","interval","fetchSuggestionsThrushold","onBlur","e","refs","wrapper","focus","fromSuggestionsOnly","preventDefault","state","trim","addChip","setState","onFocus","blur","handleKeyDown","keyCode","lastEvent","createChipKeys","includes","onBackspace","chipSelected","code","nextChips","slice","chips","onChange","uniqueChips","indexOf","concat","removeChip","idx","left","right","renderChips","map","chip","cloneElement","renderChip","chipTheme","selected","onRemove","index","filterUniqueChips","suggestions","_this$props","getChipValue","getSuggestionValue","filter","suggestion","some","callFetchSuggestions","fetchSuggestions","canceled","callback","isCancaled","loading","suggestionResult","then","onSuggestionsFetchRequested","_ref","_this$props2","suggestionsFilter","invoke","opts","onSuggestionsClearRequested","onSuggestionSelected","_ref2","_ref3","newValue","split","val","forEach","_addLastChipIfAvailable","bind","render","_this2","_state","_props","placeholder","renderLoading","themr","theme","inputProps","onKeyDown","createElement","ref","Component","propTypes","array","isRequired","func","string","object","number","bool","renderSuggestion","shouldRenderSuggestions","alwaysRenderSuggestions","highlightFirstSuggestion","focusInputOnSuggestionClick","multiSection","renderSectionTitle","getSectionSuggestions","defaultProps","s","customTheme","_ref4","query","opt","toLowerCase","item"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactAutosuggest = require('react-autosuggest');\n\nvar _reactAutosuggest2 = _interopRequireDefault(_reactAutosuggest);\n\nvar _radium = require('radium');\n\nvar _radium2 = _interopRequireDefault(_radium);\n\nvar _reactThemeable = require('react-themeable');\n\nvar _reactThemeable2 = _interopRequireDefault(_reactThemeable);\n\nvar _theme = require('./theme');\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _Chip = require('./Chip');\n\nvar _Chip2 = _interopRequireDefault(_Chip);\n\nvar _CallLimiter = require('./CallLimiter');\n\nvar _CallLimiter2 = _interopRequireDefault(_CallLimiter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Chips = function (_Component) {\n  _inherits(Chips, _Component);\n\n  function Chips(props) {\n    _classCallCheck(this, Chips);\n\n    var _this = _possibleConstructorReturn(this, (Chips.__proto__ || Object.getPrototypeOf(Chips)).call(this, props));\n\n    _this.componentWillReceiveProps = function (nextProps) {\n      _this.asyncSuggestLimiter.interval = 1000 / nextProps.fetchSuggestionsThrushold;\n    };\n\n    _this.onBlur = function (e) {\n      _this.refs.wrapper.focus();\n      if (!_this.props.fromSuggestionsOnly) {\n        e.preventDefault();\n        if (_this.state.value.trim()) _this.addChip(_this.state.value);\n      } else {\n        _this.setState({ value: \"\" });\n      }\n    };\n\n    _this.onFocus = function (e) {\n      _this.refs.wrapper.blur();\n    };\n\n    _this.handleKeyDown = function (e) {\n      if (e.keyCode === 13 && _this.lastEvent === e) {\n        _this.lastEvent = null;\n        return;\n      }\n      if (!_this.props.fromSuggestionsOnly && (_this.props.createChipKeys.includes(e.keyCode) || _this.props.createChipKeys.includes(e.key))) {\n        e.preventDefault();\n        if (_this.state.value.trim()) _this.addChip(_this.state.value);\n      }\n      if (e.keyCode === 8) {\n        _this.onBackspace();\n      } else if (_this.state.chipSelected) {\n        _this.setState({ chipSelected: false });\n      }\n    };\n\n    _this.onBackspace = function (code) {\n      if (_this.state.value === \"\" && _this.props.value.length > 0) {\n        if (_this.state.chipSelected) {\n          var nextChips = _this.props.value.slice(0, -1);\n          _this.setState({\n            chipSelected: false,\n            chips: nextChips\n          });\n          _this.props.onChange(nextChips);\n        } else {\n          _this.setState({ chipSelected: true });\n        }\n      }\n    };\n\n    _this.addChip = function (value) {\n      if (_this.props.uniqueChips && _this.props.value.indexOf(value) !== -1) {\n        _this.setState({ value: \"\" });\n        return;\n      }\n      var chips = [].concat(_toConsumableArray(_this.props.value), [value]);\n      _this.props.onChange(chips);\n      _this.setState({ value: \"\" });\n    };\n\n    _this.removeChip = function (idx) {\n      return function () {\n        var left = _this.props.value.slice(0, idx);\n        var right = _this.props.value.slice(idx + 1);\n        var nextChips = [].concat(_toConsumableArray(left), _toConsumableArray(right));\n        _this.props.onChange(nextChips);\n      };\n    };\n\n    _this.renderChips = function () {\n      return _this.props.value.map(function (chip, idx) {\n        return _react2.default.cloneElement(_this.props.renderChip(chip, _this.props.chipTheme), {\n          selected: _this.state.chipSelected && idx === _this.props.value.length - 1,\n          onRemove: _this.removeChip(idx),\n          index: idx,\n          key: 'chip' + idx\n        });\n      });\n    };\n\n    _this.filterUniqueChips = function (suggestions) {\n      var _this$props = _this.props,\n          value = _this$props.value,\n          getChipValue = _this$props.getChipValue,\n          getSuggestionValue = _this$props.getSuggestionValue;\n\n\n      return suggestions.filter(function (suggestion) {\n        return !value.some(function (chip) {\n          return getChipValue(chip) == getSuggestionValue(suggestion);\n        });\n      });\n    };\n\n    _this.callFetchSuggestions = function (fetchSuggestions, value, canceled) {\n      var uniqueChips = _this.props.uniqueChips;\n\n\n      var callback = function callback(suggestions) {\n        if (!canceled.isCancaled()) {\n          _this.setState({\n            loading: false,\n            suggestions: uniqueChips ? _this.filterUniqueChips(suggestions) : suggestions\n          });\n        }\n      };\n\n      var suggestionResult = fetchSuggestions.call(_this, value, callback);\n\n      if (suggestionResult && 'then' in suggestionResult) {\n        // To Support Promises\n        suggestionResult.then(callback);\n      }\n    };\n\n    _this.onSuggestionsFetchRequested = function (_ref) {\n      var value = _ref.value;\n      var _this$props2 = _this.props,\n          uniqueChips = _this$props2.uniqueChips,\n          suggestions = _this$props2.suggestions,\n          fetchSuggestions = _this$props2.fetchSuggestions,\n          suggestionsFilter = _this$props2.suggestionsFilter;\n\n\n      if (fetchSuggestions) {\n        _this.setState({ loading: true });\n\n        _this.asyncSuggestLimiter.invoke(fetchSuggestions, value);\n      } else {\n        _this.setState({\n          suggestions: (uniqueChips ? _this.filterUniqueChips(suggestions) : suggestions).filter(function (opts) {\n            return suggestionsFilter(opts, value);\n          })\n        });\n      }\n    };\n\n    _this.onSuggestionsClearRequested = function () {\n      _this.setState({ suggestions: [] });\n    };\n\n    _this.onSuggestionSelected = function (e, _ref2) {\n      var suggestion = _ref2.suggestion;\n\n      _this.lastEvent = e;\n      _this.addChip(suggestion);\n      _this.setState({ value: '' });\n    };\n\n    _this.onChange = function (e, _ref3) {\n      var newValue = _ref3.newValue;\n\n      if (!_this.props.fromSuggestionsOnly && newValue.indexOf(',') !== -1 && _this.props.createChipKeys.includes(9)) {\n        var chips = newValue.split(\",\").map(function (val) {\n          return val.trim();\n        }).filter(function (val) {\n          return val !== \"\";\n        });\n        chips.forEach(function (chip) {\n          _this.addChip(chip);\n        });\n      } else {\n        _this.setState({ value: newValue });\n      }\n    };\n\n    _this._addLastChipIfAvailable = function () {};\n\n    _this.state = {\n      loading: false,\n      value: \"\",\n      chipSelected: false,\n      suggestions: []\n    };\n\n    _this.asyncSuggestLimiter = new _CallLimiter2.default(_this.callFetchSuggestions.bind(_this), 1000 / props.fetchSuggestionsThrushold);\n    return _this;\n  }\n\n  _createClass(Chips, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _state = this.state,\n          loading = _state.loading,\n          value = _state.value,\n          suggestions = _state.suggestions;\n      var _props = this.props,\n          placeholder = _props.placeholder,\n          renderLoading = _props.renderLoading;\n\n      var themr = (0, _reactThemeable2.default)(this.props.theme);\n\n      var inputProps = {\n        placeholder: placeholder,\n        value: value,\n        onChange: this.onChange,\n        onKeyDown: this.handleKeyDown,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus\n      };\n\n      return _react2.default.createElement(\n        'div',\n        _extends({}, themr(200, 'chipsContainer'), { ref: 'wrapper' }),\n        this.renderChips(),\n        _react2.default.createElement(_reactAutosuggest2.default, _extends({}, this.props, {\n          theme: this.props.theme,\n          suggestions: this.state.suggestions,\n          onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n          onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n          getSuggestionValue: function getSuggestionValue(val) {\n            return _this2.state.value;\n          },\n          inputProps: inputProps,\n          onSuggestionSelected: this.onSuggestionSelected,\n          onBlur: this._addLastChipIfAvailable()\n        })),\n        loading ? renderLoading() : null\n      );\n    }\n  }]);\n\n  return Chips;\n}(_react.Component);\n\nChips.propTypes = {\n  value: _propTypes2.default.array.isRequired,\n  onChange: _propTypes2.default.func,\n  placeholder: _propTypes2.default.string,\n  theme: _propTypes2.default.object,\n  chipTheme: _propTypes2.default.object,\n  suggestions: _propTypes2.default.array,\n  fetchSuggestions: _propTypes2.default.func,\n  fetchSuggestionsThrushold: _propTypes2.default.number,\n  fromSuggestionsOnly: _propTypes2.default.bool,\n  uniqueChips: _propTypes2.default.bool,\n  renderChip: _propTypes2.default.func,\n  suggestionsFilter: _propTypes2.default.func,\n  getChipValue: _propTypes2.default.func,\n  createChipKeys: _propTypes2.default.array,\n  getSuggestionValue: _propTypes2.default.func,\n  renderSuggestion: _propTypes2.default.func,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  alwaysRenderSuggestions: _propTypes2.default.bool,\n  highlightFirstSuggestion: _propTypes2.default.bool,\n  focusInputOnSuggestionClick: _propTypes2.default.bool,\n  multiSection: _propTypes2.default.bool,\n  renderSectionTitle: _propTypes2.default.func,\n  getSectionSuggestions: _propTypes2.default.func\n};\n\nChips.defaultProps = {\n  placeholder: '',\n  theme: _theme2.default,\n  chipTheme: _theme.chipTheme,\n  suggestions: [],\n  fetchSuggestions: null,\n  fetchSuggestionsThrushold: 10,\n  createChipKeys: [9],\n  fromSuggestionsOnly: false,\n  uniqueChips: true,\n  getSuggestionValue: function getSuggestionValue(s) {\n    return s;\n  },\n  value: [],\n  onChange: function onChange() {},\n  renderChip: function renderChip(value, customTheme) {\n    return _react2.default.createElement(\n      _Chip2.default,\n      { theme: customTheme },\n      value\n    );\n  },\n  renderLoading: function renderLoading() {\n    return _react2.default.createElement(\n      'span',\n      null,\n      'Loading...'\n    );\n  },\n  renderSuggestion: function renderSuggestion(suggestion, _ref4) {\n    var query = _ref4.query;\n    return _react2.default.createElement(\n      'span',\n      null,\n      suggestion\n    );\n  },\n  suggestionsFilter: function suggestionsFilter(opt, val) {\n    return opt.toLowerCase().indexOf(val.toLowerCase()) !== -1;\n  },\n  getChipValue: function getChipValue(item) {\n    return item;\n  }\n};\n\nexports.default = (0, _radium2.default)(Chips);"]},"metadata":{},"sourceType":"script"}