{"ast":null,"code":"import _classCallCheck from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/vault-view.js\";\nimport React, { Component } from \"react\";\nimport { ToastsStore } from \"react-toasts\";\nimport { Button, Card, CardBody, CardHeader, CardText, Col, Container, Input, Label, ListGroup, ListGroupItem, Nav, NavItem, NavLink, Row, TabContent, TabPane } from \"reactstrap\";\nimport SubscriptionListModal from \"../components/subscription-list-modal\";\nimport config from \"../config/index\";\nimport { changeUserStatus, getSubscriberDetails, getSubscriberActivity, getAllVaultFolderDetail } from \"../http/http-calls\";\nimport SubscriberActivityList from \"../components/subscriber-activity-list\";\nimport CopyclipBoard from \"../components/copy-clipboard\";\nimport { capitalize, showToast } from \"../helper-methods\";\nimport moment from \"moment\";\nimport { format } from \"date-fns\";\nimport CustomTable from \"../components/custom-table\";\nimport { Link } from \"react-router-dom\";\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\n\nvar VaultView = /*#__PURE__*/function (_Component) {\n  _inherits(VaultView, _Component);\n\n  var _super = _createSuper(VaultView);\n\n  function VaultView(props) {\n    var _this;\n\n    _classCallCheck(this, VaultView);\n\n    _this = _super.call(this, props);\n\n    _this.toggle = function (tabPane, tab) {\n      var newArray = _this.state.activeTab.slice();\n\n      newArray[tabPane] = tab;\n\n      _this.setState({\n        activeTab: newArray,\n        popoverOpen: !_this.state.popoverOpen\n      }, function () {\n        if (Number(tab) === 2) {\n          _this._updateChildActivites();\n        }\n      });\n    };\n\n    _this._onToggleSubscriptionModal = function (data) {\n      var _JSON$parse = JSON.parse(JSON.stringify(_this.state)),\n          subscriptionModal = _JSON$parse.subscriptionModal;\n\n      subscriptionModal.isOpen = !subscriptionModal.isOpen;\n\n      if (subscriptionModal.isOpen) {\n        data.subscriptions = data._subscriptions;\n      }\n\n      subscriptionModal.data = data;\n\n      _this.setState({\n        subscriptionModal: subscriptionModal\n      });\n    };\n\n    _this._goBack = function () {\n      // this.props.history.push(\"/subscribers\");\n      _this.props.history.goBack();\n    };\n\n    _this._manageLoading = function (key, value) {\n      var _this$state$loading = _this.state.loading,\n          loadingData = _this$state$loading.loadingData,\n          changeStatusLoading = _this$state$loading.changeStatusLoading;\n\n      if (key === \"data\") {\n        loadingData = value;\n      } else if (key === \"change-status\") {\n        changeStatusLoading = value;\n      }\n\n      _this.setState({\n        loading: {\n          loadingData: loadingData,\n          changeStatusLoading: changeStatusLoading\n        }\n      });\n    };\n\n    _this._getSubscriberDetails = function (id) {\n      _this._manageLoading(\"data\", true);\n\n      getAllVaultFolderDetail(id).then(function (response) {\n        console.log(\"vaultView -> response\", response);\n\n        var salesList = response.folder._transactions.map(function (each) {\n          return {\n            id: each.id,\n            subscriber: each._from.name.full,\n            paid: each.amount,\n            date: each.time\n          };\n        });\n\n        var contentList = response.folder._contents.map(function (each) {\n          return {\n            id: each.id,\n            filename: each.name,\n            size: each.size,\n            dateadded: each.createdAt\n          };\n        });\n\n        _this._manageLoading(\"data\", false); // let { subscriberDetails } = this.state;\n        // response.fan.profilePicture =\n        //   response.fan.profilePicture || config.defaultUserPicture;\n        // response.fan.status = response.fan.isActive ? \"Active\" : \"Inactive\";\n        // response.fan.amountSpent = response.fan._debit\n        //   .reduce((acc, item) => {\n        //     return (acc = acc + item.amount);\n        //   }, 0)\n        //   .toFixed(2);\n        // subscriberDetails = response.fan;\n\n\n        _this.setState({\n          folderDetails: response.folder // salesList,\n          // contentList,\n          // subscriberDetails,\n          // subscriptions,\n          // expiredSubscriptions,\n\n        });\n      }, function (error) {\n        console.log(error);\n\n        _this._manageLoading(\"data\", false);\n      });\n    };\n\n    _this._onStatusUpdate = function () {\n      var subscriberDetails = _this.state.subscriberDetails;\n      subscriberDetails.status = subscriberDetails.status === \"Active\" ? \"Inactive\" : \"Active\";\n\n      _this.setState({\n        subscriberDetails: subscriberDetails\n      });\n\n      _this._manageLoading(\"change-status\", true);\n\n      changeUserStatus(subscriberDetails.id).then(function (response) {\n        console.log(response);\n\n        _this._manageLoading(\"change-status\", false);\n\n        ToastsStore.success(\"Status changed Successfully!\", 3000);\n      }, function (error) {\n        console.log(error);\n\n        _this._manageLoading(\"change-status\", false); // ToastsStore.error(error.reason, 3000);\n\n\n        showToast(error.reason && error.reason.length ? error.reason : \"Server error. Try again after sometime.\", \"error\");\n      });\n    };\n\n    _this._dataFormat = function (cell, row, header) {\n      // console.log(cell, row, header);\n      if (header === \"amount\") {\n        return typeof cell === \"number\" ? \"$\" + cell.toFixed(2) : \"-\";\n      } else if (header === \"dateadded\") {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, _this._formatDate(cell, \"MMM d, yyyy\"), /*#__PURE__*/React.createElement(\"br\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 11\n          }\n        }), _this._formatDate(cell, \"HH:mm\"));\n      } else if (header === \"date\") {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, _this._formatDate(cell, \"MMM d, yyyy\"), /*#__PURE__*/React.createElement(\"br\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 11\n          }\n        }), _this._formatDate(cell, \"HH:mm\"));\n      } else if (header === \"creator\") {\n        return cell ? /*#__PURE__*/React.createElement(Link, {\n          to: \"/creator-view/\".concat(row.creatorId),\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 11\n          }\n        }, cell)) : \"-\";\n      } else {\n        return cell;\n      }\n    };\n\n    _this._gotoViewCreator = function (id) {\n      _this.props.history.push(\"/creator-view/\" + id);\n    };\n\n    _this.state = {\n      // activeTab: new Array(2).fill(\"1\"),\n      folderDetails: null,\n      loading: {\n        loadingData: false,\n        changeStatusLoading: false\n      },\n      subscriptionModal: {\n        isOpen: false,\n        data: null\n      },\n      activities: [],\n      salesHeaderKeys: [{\n        id: \"id\",\n        label: \"id\"\n      }, {\n        id: \"influencer\",\n        label: \"Influencer\"\n      }, // { id: \"commission\", label: \"Commission\" },\n      {\n        id: \"sales\",\n        label: \"Sales\"\n      } // { id: \"id\", label: \"id\" },\n      // { id: \"subscriber\", label: \"Subscriber\" },\n      // { id: \"paid\", label: \"Paid\" },\n      // { id: \"date\", label: \"Date\" },\n      // { id: \"tierAndCycle\", label: \"Tier & Cycle\" },\n      ],\n      contentList: [{\n        orderid: 12334,\n        buyer: \"shyam\",\n        qty: 5,\n        amount: 30,\n        influencer: \"jack\",\n        status: \"pending\"\n      }],\n      salesList: [{\n        influencer: \"luci\",\n        sales: 6\n      }],\n      contentHeaderKeys: [{\n        id: \"id\",\n        label: \"id\"\n      }, {\n        id: \"orderid\",\n        label: \"Order Id\"\n      }, {\n        id: \"buyer\",\n        label: \"Buyer\"\n      }, {\n        id: \"qty\",\n        label: \"Qty\"\n      }, {\n        id: \"amount\",\n        label: \"Amount\"\n      }, {\n        id: \"influencer\",\n        label: \"Influencer\"\n      }, {\n        id: \"status\",\n        label: \"Status\"\n      }],\n      subscriptions: [],\n      expiredSubscriptions: []\n    };\n    return _this;\n  }\n\n  _createClass(VaultView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._getSubscriberDetails(this.props.match.params.id);\n    }\n  }, {\n    key: \"_formatDate\",\n    value: function _formatDate(date, dateFormat) {\n      // console.log(date, dateFormat);\n      return format(new Date(date), dateFormat);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          folderDetails = _this$state.folderDetails,\n          subscriberDetails = _this$state.subscriberDetails,\n          loading = _this$state.loading,\n          subscriptions = _this$state.subscriptions,\n          expiredSubscriptions = _this$state.expiredSubscriptions;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app TruFansPgBg animated fadeIn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 9\n        }\n      }, !loading.loadingData && /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }\n      }, subscriberDetails && /*#__PURE__*/React.createElement(Col, {\n        xs: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"PgTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-start align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"ghost-dark\",\n        className: \"customBackBtn\",\n        onClick: this._goBack,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-arrow-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 23\n        }\n      }, \"Back To Vault\")))), folderDetails && /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"7\",\n        md: \"5\",\n        lg: \"4\",\n        xl: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"ProfileCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(CardBody, {\n        className: \"align-items-center d-flex flex-column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"profileImgWrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"profileImg\",\n        src: folderDetails._owner.profilePicture,\n        alt: \"Profile Img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"mt-2 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 27\n        }\n      }, folderDetails._owner.name.full, \"\\xA0\"), /*#__PURE__*/React.createElement(ListGroup, {\n        className: \"profileInfo mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 31\n        }\n      }, \"Seller:\", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 33\n        }\n      }, folderDetails.createdAt && moment(folderDetails.createdAt).format(\"YYYY-MM-DD\") || \"N/A\"))), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 31\n        }\n      }, \"Cost:\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 33\n        }\n      }, \"$80\"))), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 31\n        }\n      }, \"Sales:\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 33\n        }\n      }, 8))), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 31\n        }\n      }, \"Commission:\", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 44\n        }\n      }, \"5%\"))))))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"11\",\n        md: \"7\",\n        lg: \"6\",\n        xl: \"5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"ProfileCard ml-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        className: \"profileInfo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 27\n        }\n      }))))), /*#__PURE__*/React.createElement(Row, {\n        className: \"mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        xl: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"ProfileCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \" mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 27\n        }\n      }, \"Sales\"), /*#__PURE__*/React.createElement(CustomTable, {\n        tableData: this.state.salesList,\n        headerKeys: this.state.salesHeaderKeys,\n        dataFormat: this._dataFormat,\n        rowSelection: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 27\n        }\n      })))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        xl: \"8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"ProfileCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 27\n        }\n      }, \"Recent Orders\"), /*#__PURE__*/React.createElement(CustomTable, {\n        tableData: this.state.contentList,\n        headerKeys: this.state.contentHeaderKeys,\n        dataFormat: this._dataFormat,\n        rowSelection: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 27\n        }\n      }))))))), /*#__PURE__*/React.createElement(Row, {\n        className: \"mt-2 d-flex justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 13\n        }\n      }, \"Sales Letter\"), /*#__PURE__*/React.createElement(Card, {\n        className: \"ProfileCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardText, {\n        className: \"d-flex justify-content-center text-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 15\n        }\n      }, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eligendi non quis exercitationem culpa nesciunt nihil aut nostrum explicabo reprehenderit optio amet ab temporibus asperiores quasi cupiditate. Voluptatum ducimus voluptates voluptas?\"))), /*#__PURE__*/React.createElement(SubscriptionListModal, {\n        isOpen: this.state.subscriptionModal.isOpen,\n        data: this.state.subscriptionModal.data,\n        toggle: function toggle() {\n          return _this2._onToggleSubscriptionModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return VaultView;\n}(Component);\n\nexport default VaultView;","map":{"version":3,"sources":["/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/pages/vault-view.js"],"names":["React","Component","ToastsStore","Button","Card","CardBody","CardHeader","CardText","Col","Container","Input","Label","ListGroup","ListGroupItem","Nav","NavItem","NavLink","Row","TabContent","TabPane","SubscriptionListModal","config","changeUserStatus","getSubscriberDetails","getSubscriberActivity","getAllVaultFolderDetail","SubscriberActivityList","CopyclipBoard","capitalize","showToast","moment","format","CustomTable","Link","parsePhoneNumberFromString","VaultView","props","toggle","tabPane","tab","newArray","state","activeTab","slice","setState","popoverOpen","Number","_updateChildActivites","_onToggleSubscriptionModal","data","JSON","parse","stringify","subscriptionModal","isOpen","subscriptions","_subscriptions","_goBack","history","goBack","_manageLoading","key","value","loading","loadingData","changeStatusLoading","_getSubscriberDetails","id","then","response","console","log","salesList","folder","_transactions","map","each","subscriber","_from","name","full","paid","amount","date","time","contentList","_contents","filename","size","dateadded","createdAt","folderDetails","error","_onStatusUpdate","subscriberDetails","status","success","reason","length","_dataFormat","cell","row","header","toFixed","_formatDate","creatorId","_gotoViewCreator","push","activities","salesHeaderKeys","label","orderid","buyer","qty","influencer","sales","contentHeaderKeys","expiredSubscriptions","match","params","dateFormat","Date","_owner","profilePicture"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { ToastsStore } from \"react-toasts\";\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  CardText,\n  Col,\n  Container,\n  Input,\n  Label,\n  ListGroup,\n  ListGroupItem,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  TabContent,\n  TabPane,\n} from \"reactstrap\";\nimport SubscriptionListModal from \"../components/subscription-list-modal\";\nimport config from \"../config/index\";\nimport {\n  changeUserStatus,\n  getSubscriberDetails,\n  getSubscriberActivity,\n  getAllVaultFolderDetail,\n} from \"../http/http-calls\";\nimport SubscriberActivityList from \"../components/subscriber-activity-list\";\nimport CopyclipBoard from \"../components/copy-clipboard\";\nimport { capitalize, showToast } from \"../helper-methods\";\nimport moment from \"moment\";\nimport { format } from \"date-fns\";\nimport CustomTable from \"../components/custom-table\";\nimport { Link } from \"react-router-dom\";\n\nimport { parsePhoneNumberFromString } from \"libphonenumber-js\";\n\nclass VaultView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // activeTab: new Array(2).fill(\"1\"),\n      folderDetails: null,\n      loading: {\n        loadingData: false,\n        changeStatusLoading: false,\n      },\n      subscriptionModal: {\n        isOpen: false,\n        data: null,\n      },\n      activities: [],\n      salesHeaderKeys: [\n        { id: \"id\", label: \"id\" },\n        { id: \"influencer\", label: \"Influencer\" },\n        // { id: \"commission\", label: \"Commission\" },\n        { id: \"sales\", label: \"Sales\" },\n        // { id: \"id\", label: \"id\" },\n        // { id: \"subscriber\", label: \"Subscriber\" },\n        // { id: \"paid\", label: \"Paid\" },\n        // { id: \"date\", label: \"Date\" },\n        // { id: \"tierAndCycle\", label: \"Tier & Cycle\" },\n      ],\n      contentList: [\n        {\n          orderid: 12334,\n          buyer: \"shyam\",\n          qty: 5,\n          amount: 30,\n          influencer: \"jack\",\n          status: \"pending\",\n        },\n      ],\n      salesList: [{ influencer: \"luci\", sales: 6 }],\n      contentHeaderKeys: [\n        { id: \"id\", label: \"id\" },\n        { id: \"orderid\", label: \"Order Id\" },\n        { id: \"buyer\", label: \"Buyer\" },\n        { id: \"qty\", label: \"Qty\" },\n        { id: \"amount\", label: \"Amount\" },\n        { id: \"influencer\", label: \"Influencer\" },\n        { id: \"status\", label: \"Status\" },\n      ],\n\n      subscriptions: [],\n      expiredSubscriptions: [],\n    };\n  }\n\n  componentDidMount() {\n    this._getSubscriberDetails(this.props.match.params.id);\n  }\n\n  toggle = (tabPane, tab) => {\n    const newArray = this.state.activeTab.slice();\n    newArray[tabPane] = tab;\n    this.setState(\n      {\n        activeTab: newArray,\n        popoverOpen: !this.state.popoverOpen,\n      },\n      () => {\n        if (Number(tab) === 2) {\n          this._updateChildActivites();\n        }\n      }\n    );\n  };\n\n  _onToggleSubscriptionModal = (data) => {\n    let { subscriptionModal } = JSON.parse(JSON.stringify(this.state));\n    subscriptionModal.isOpen = !subscriptionModal.isOpen;\n    if (subscriptionModal.isOpen) {\n      data.subscriptions = data._subscriptions;\n    }\n    subscriptionModal.data = data;\n    this.setState({\n      subscriptionModal,\n    });\n  };\n\n  _goBack = () => {\n    // this.props.history.push(\"/subscribers\");\n    this.props.history.goBack();\n  };\n\n  _manageLoading = (key, value) => {\n    let { loadingData, changeStatusLoading } = this.state.loading;\n    if (key === \"data\") {\n      loadingData = value;\n    } else if (key === \"change-status\") {\n      changeStatusLoading = value;\n    }\n    this.setState({ loading: { loadingData, changeStatusLoading } });\n  };\n\n  _getSubscriberDetails = (id) => {\n    this._manageLoading(\"data\", true);\n    getAllVaultFolderDetail(id).then(\n      (response) => {\n        console.log(\"vaultView -> response\", response);\n        const salesList = response.folder._transactions.map((each) => {\n          return {\n            id: each.id,\n            subscriber: each._from.name.full,\n            paid: each.amount,\n            date: each.time,\n          };\n        });\n        const contentList = response.folder._contents.map((each) => {\n          return {\n            id: each.id,\n            filename: each.name,\n            size: each.size,\n            dateadded: each.createdAt,\n          };\n        });\n\n        this._manageLoading(\"data\", false);\n        // let { subscriberDetails } = this.state;\n        // response.fan.profilePicture =\n        //   response.fan.profilePicture || config.defaultUserPicture;\n        // response.fan.status = response.fan.isActive ? \"Active\" : \"Inactive\";\n        // response.fan.amountSpent = response.fan._debit\n        //   .reduce((acc, item) => {\n        //     return (acc = acc + item.amount);\n        //   }, 0)\n        //   .toFixed(2);\n        // subscriberDetails = response.fan;\n        this.setState({\n          folderDetails: response.folder,\n          // salesList,\n          // contentList,\n          // subscriberDetails,\n          // subscriptions,\n          // expiredSubscriptions,\n        });\n      },\n      (error) => {\n        console.log(error);\n        this._manageLoading(\"data\", false);\n      }\n    );\n  };\n\n  _onStatusUpdate = () => {\n    let { subscriberDetails } = this.state;\n    subscriberDetails.status =\n      subscriberDetails.status === \"Active\" ? \"Inactive\" : \"Active\";\n    this.setState({\n      subscriberDetails,\n    });\n    this._manageLoading(\"change-status\", true);\n    changeUserStatus(subscriberDetails.id).then(\n      (response) => {\n        console.log(response);\n        this._manageLoading(\"change-status\", false);\n        ToastsStore.success(\"Status changed Successfully!\", 3000);\n      },\n      (error) => {\n        console.log(error);\n        this._manageLoading(\"change-status\", false);\n        // ToastsStore.error(error.reason, 3000);\n        showToast(\n          error.reason && error.reason.length\n            ? error.reason\n            : \"Server error. Try again after sometime.\",\n          \"error\"\n        );\n      }\n    );\n  };\n\n  _formatDate(date, dateFormat) {\n    // console.log(date, dateFormat);\n    return format(new Date(date), dateFormat);\n  }\n\n  _dataFormat = (cell, row, header) => {\n    // console.log(cell, row, header);\n    if (header === \"amount\") {\n      return typeof cell === \"number\" ? \"$\" + cell.toFixed(2) : \"-\";\n    } else if (header === \"dateadded\") {\n      return (\n        <>\n          {this._formatDate(cell, \"MMM d, yyyy\")}\n          <br />\n          {this._formatDate(cell, \"HH:mm\")}\n        </>\n      );\n    } else if (header === \"date\") {\n      return (\n        <>\n          {this._formatDate(cell, \"MMM d, yyyy\")}\n          <br />\n          {this._formatDate(cell, \"HH:mm\")}\n        </>\n      );\n    } else if (header === \"creator\") {\n      return cell ? (\n        <Link to={`/creator-view/${row.creatorId}`}>\n          <span>{cell}</span>\n        </Link>\n      ) : (\n        \"-\"\n      );\n    } else {\n      return cell;\n    }\n  };\n\n  _gotoViewCreator = (id) => {\n    this.props.history.push(\"/creator-view/\" + id);\n  };\n\n  render() {\n    let {\n      folderDetails,\n      subscriberDetails,\n      loading,\n      subscriptions,\n      expiredSubscriptions,\n    } = this.state;\n    return (\n      <div className=\"app TruFansPgBg animated fadeIn\">\n        <Container>\n          {!loading.loadingData && (\n            <Row>\n              {subscriberDetails && (\n                <Col xs=\"12\">\n                  <div className=\"PgTitle\">\n                    <div className=\"d-flex justify-content-start align-items-center\">\n                      {/* on clicking the below btn, it should take back user to subscriber page */}\n                      <Button\n                        color=\"ghost-dark\"\n                        className=\"customBackBtn\"\n                        onClick={this._goBack}\n                      >\n                        <i className=\"fa fa-arrow-left\"></i>\n                      </Button>\n                      <h2>Back To Vault</h2>\n                    </div>\n                  </div>\n                </Col>\n              )}\n\n              {folderDetails && (\n                <Col sm=\"12\">\n                  <Row>\n                    <Col sm=\"7\" md=\"5\" lg=\"4\" xl=\"3\">\n                      <Card className=\"ProfileCard\">\n                        <CardHeader>\n                          {/* <h3 className=\"ml-5\">Influencer</h3> */}\n                        </CardHeader>\n                        <CardBody className=\"align-items-center d-flex flex-column\">\n                          <div className=\"profileImgWrap\">\n                            <img\n                              className=\"profileImg\"\n                              src={folderDetails._owner.profilePicture}\n                              alt=\"Profile Img\"\n                            />\n                          </div>\n\n                          <h4 className=\"mt-2 mb-2\">\n                            {folderDetails._owner.name.full}\n                            &nbsp;\n                            {/* {subscriberDetails.address &&\n                            subscriberDetails.address.country ? (\n                              <img\n                                src={`https://www.countryflags.io/${subscriberDetails.address.country}/flat/24.png`}\n                                alt=\"flag\"\n                              />\n                            ) : (\n                              \"\"\n                            )} */}\n                          </h4>\n\n                          <ListGroup className=\"profileInfo mt-2\">\n                            <ListGroupItem>\n                              <p>\n                                Seller:\n                                <span>\n                                  {(folderDetails.createdAt &&\n                                    moment(folderDetails.createdAt).format(\n                                      \"YYYY-MM-DD\"\n                                    )) ||\n                                    \"N/A\"}\n                                </span>\n                              </p>\n                            </ListGroupItem>\n                            <ListGroupItem>\n                              <p>\n                                Cost:{\" \"}\n                                <span>\n                                  {\"$80\"}\n                                  {/* {subscriptions && subscriptions.length\n                                    ? subscriptions.length\n                                    : 0} */}\n                                </span>\n                              </p>\n                            </ListGroupItem>\n                            <ListGroupItem>\n                              <p>\n                                Sales:{\" \"}\n                                <span>\n                                  {8}\n                                  {/* {expiredSubscriptions &&\n                                  expiredSubscriptions.length\n                                    ? expiredSubscriptions.length\n                                    : 0} */}\n                                </span>\n                              </p>\n                            </ListGroupItem>\n                            <ListGroupItem>\n                              <p>\n                                Commission:<span>5%</span>\n                                {/* <input className=\"form-control\" value={5} /> */}\n                              </p>\n                            </ListGroupItem>\n                          </ListGroup>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                    <Col sm=\"11\" md=\"7\" lg=\"6\" xl=\"5\">\n                      <Card className=\"ProfileCard ml-5\">\n                        <CardBody>\n                          <ListGroup className=\"profileInfo\">\n                            {/* <img\n                              className=\"profileImg\"\n                              style={{ height: \"250px\", width: \"300px\" }}\n                              src={folderDetails._owner.profilePicture}\n                              alt=\"Profile Img\"\n                            /> */}\n                            {/* <ListGroupItem>\n                                  <p>\n                                    <i className=\"fa fa-envelope\"></i>\n                                    Email:\n                                    <span>\n                                      <CopyclipBoard\n                                        copiedValue={subscriberDetails.email}\n                                        fontWeight={600}\n                                      ></CopyclipBoard>\n                                    </span>\n                                  </p>\n                                </ListGroupItem> */}\n                            {/* <ListGroupItem>\n                                  <p>\n                                    <i className=\"fa fa-phone\"></i>\n                                    Phone:\n                                    <span>\n                                      {subscriberDetails.phone ? (\n                                        <CopyclipBoard\n                                          copiedValue={parsePhoneNumberFromString(\n                                            subscriberDetails.phone\n                                          ).formatInternational()}\n                                          fontWeight={600}\n                                        ></CopyclipBoard>\n                                      ) : (\n                                        \"N/A\"\n                                      )}\n                                    </span>\n                                  </p>\n                                </ListGroupItem> */}\n                            {/* <ListGroupItem>\n                                  <p>\n                                    <i className=\"fa fa-user-circle-o\"></i>\n                                    Username:\n                                    <span>\n                                      {subscriberDetails.username ? (\n                                        <CopyclipBoard\n                                          copiedValue={\n                                            subscriberDetails.username\n                                          }\n                                          fontWeight={600}\n                                        ></CopyclipBoard>\n                                      ) : (\n                                        \"N/A\"\n                                      )}\n                                    </span>\n                                  </p>\n                                </ListGroupItem> */}\n                            {/* <ListGroupItem>\n                                  <p>\n                                    <i className=\"fa fa-birthday-cake\"></i>\n                                    Birthday:\n                                    <span>\n                                      {subscriberDetails.hasOwnProperty(\"dob\")\n                                        ? subscriberDetails.dob.year +\n                                          \"-\" +\n                                          subscriberDetails.dob.month +\n                                          \"-\" +\n                                          subscriberDetails.dob.day\n                                        : \"N/A\"}\n                                    </span>\n                                  </p>\n                                </ListGroupItem> */}\n                            {/* <ListGroupItem>\n                                  <p>\n                                    <i className=\"fa fa-user\"></i>\n                                    Gender:\n                                    <span className=\"capitalize\">\n                                      {subscriberDetails.gender || \"N/A\"}\n                                    </span>\n                                  </p>\n                                </ListGroupItem> */}\n                          </ListGroup>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                  </Row>\n\n                  <Row className=\"mt-2\">\n                    <Col sm=\"12\" xl=\"4\">\n                      <Card className=\"ProfileCard\">\n                        <CardBody>\n                          <h4 className=\" mt-2\">Sales</h4>\n\n                          <CustomTable\n                            tableData={this.state.salesList}\n                            headerKeys={this.state.salesHeaderKeys}\n                            dataFormat={this._dataFormat}\n                            rowSelection={false}\n                          />\n                        </CardBody>\n                      </Card>\n                    </Col>\n                    <Col sm=\"12\" xl=\"8\">\n                      <Card className=\"ProfileCard\">\n                        <CardBody>\n                          <h4 className=\"mt-2\">Recent Orders</h4>\n                          <CustomTable\n                            tableData={this.state.contentList}\n                            headerKeys={this.state.contentHeaderKeys}\n                            dataFormat={this._dataFormat}\n                            rowSelection={false}\n                          ></CustomTable>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                  </Row>\n\n                  {/* <Row className=\"mb-4 justify-content-center\">\n                        <Col sm={12} md={10} lg={8}>\n                          <SubscriberActivityList\n                            user={subscriberDetails}\n                            updateRef={(ref) =>\n                              (this._updateChildActivites = ref)\n                            }\n                            {...this.props}\n                          />\n                        </Col>\n                      </Row> */}\n                </Col>\n              )}\n            </Row>\n          )}\n          {/* {loading.loadingData && (\n            <div className=\"filterWrap\">\n              <div className=\"loading-section list-loading\">\n                <i className=\"fa fa-spinner fa-spin\"></i> &nbsp; Loading\n                Subscriber Details..\n              </div>\n            </div>\n          )} */}\n          <Row className=\"mt-2 d-flex justify-content-center\">\n            <h3>Sales Letter</h3>\n            <Card className=\"ProfileCard\">\n              <CardText className=\"d-flex justify-content-center text-dark\">\n                Lorem ipsum dolor sit amet, consectetur adipisicing elit.\n                Eligendi non quis exercitationem culpa nesciunt nihil aut\n                nostrum explicabo reprehenderit optio amet ab temporibus\n                asperiores quasi cupiditate. Voluptatum ducimus voluptates\n                voluptas?\n                {/* {folderDetails.description} */}\n              </CardText>\n            </Card>\n          </Row>\n\n          {/* Modal for \"Subscriptions\" */}\n          <SubscriptionListModal\n            isOpen={this.state.subscriptionModal.isOpen}\n            data={this.state.subscriptionModal.data}\n            toggle={() => this._onToggleSubscriptionModal()}\n          ></SubscriptionListModal>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default VaultView;\n"]},"metadata":{},"sourceType":"module"}