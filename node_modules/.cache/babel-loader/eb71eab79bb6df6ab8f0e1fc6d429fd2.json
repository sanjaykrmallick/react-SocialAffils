{"ast":null,"code":"import _regeneratorRuntime from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/components/reject-payout-reason-modal.jsx\";\nimport React, { Component } from \"react\";\nimport { Button, Input, Modal, ModalBody } from 'reactstrap';\nimport { flagPost } from \"../http/http-calls\";\nimport SectionLoader from \"./section-loader\";\nimport { showToast, sleepTime } from \"../helper-methods\";\n\nvar RejectPayoutReasonModal = /*#__PURE__*/function (_Component) {\n  _inherits(RejectPayoutReasonModal, _Component);\n\n  var _super = _createSuper(RejectPayoutReasonModal);\n\n  function RejectPayoutReasonModal() {\n    var _this;\n\n    _classCallCheck(this, RejectPayoutReasonModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      isSubmitting: false,\n      formFields: {\n        reason: {\n          value: \"\",\n          isValid: false,\n          isDirty: false\n        }\n      },\n      isLoaderActive: false\n    };\n\n    _this._dismiss = function () {\n      _this._resetState();\n\n      _this.props.onDismiss();\n    };\n\n    _this._handleOutSideClick = function () {\n      var isSubmitting = _this.state.isSubmitting;\n\n      if (!isSubmitting) {\n        _this._resetState();\n\n        _this.props.onDismiss();\n      }\n    };\n\n    _this._resetState = function () {\n      _this.setState({\n        isSubmitting: false,\n        formFields: {\n          reason: {\n            value: \"\",\n            isValid: false,\n            isDirty: false\n          }\n        },\n        isLoaderActive: false\n      });\n    };\n\n    _this._markAsDirty = function (fieldName) {\n      var formFields = _this.state.formFields;\n\n      if (formFields[fieldName].value && formFields[fieldName].value.length) {\n        formFields[fieldName].isDirty = true;\n\n        _this.setState({\n          formFields: formFields\n        });\n\n        _this._validateForm();\n      }\n    };\n\n    _this._updateFieldValue = function (fieldName, value) {\n      var formFields = _this.state.formFields;\n      formFields[fieldName].value = value;\n\n      _this.setState({\n        formFields: formFields\n      });\n\n      if (formFields[fieldName].isDirty) {\n        // Validate\n        _this._validateForm();\n      }\n    };\n\n    _this._validateForm = function () {\n      return new Promise(function (resolve, reject) {\n        var formFields = _this.state.formFields;\n        var isFormValid = true;\n        Object.keys(formFields).forEach(function (fieldName, index) {\n          switch (fieldName) {\n            case \"reason\":\n              {\n                if (formFields.reason.value.length) {\n                  formFields.reason.isValid = true;\n                } else {\n                  formFields.reason.isValid = false;\n                  isFormValid = false;\n                }\n\n                break;\n              }\n          }\n        });\n\n        _this.setState({\n          formFields: formFields,\n          isFormValid: isFormValid\n        }, function () {\n          resolve();\n        });\n      });\n    };\n\n    _this._makeAllFieldDirty = function () {\n      var formFields = _this.state.formFields;\n      Object.keys(formFields).forEach(function (fieldName, index) {\n        formFields[fieldName].isDirty = true;\n      });\n\n      _this.setState({\n        formFields: formFields\n      });\n    };\n\n    _this._report = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$state, formFields, isFormValid;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this._makeAllFieldDirty();\n\n              _context.next = 3;\n              return _this._validateForm();\n\n            case 3:\n              _this$state = _this.state, formFields = _this$state.formFields, isFormValid = _this$state.isFormValid;\n\n              if (isFormValid) {\n                _this.props.onSave(_this.state.formFields.reason.value, _this.props.lastUpdatedData);\n\n                _this._resetState();\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this._showLoader = function () {\n      _this.setState({\n        isLoaderActive: true\n      });\n    };\n\n    _this._hideLoader = function () {\n      _this.setState({\n        isLoaderActive: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(RejectPayoutReasonModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var isVisible = this.props.isVisible;\n      var _this$state2 = this.state,\n          isLoaderActive = _this$state2.isLoaderActive,\n          formFields = _this$state2.formFields;\n      return /*#__PURE__*/React.createElement(Modal, {\n        isOpen: isVisible,\n        toggle: function toggle() {\n          return _this2._handleOutSideClick();\n        },\n        className: \"modal-dialog-centered\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ModalBody, {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(SectionLoader, {\n        isActive: isLoaderActive,\n        loaderSize: 30,\n        height: 400,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"mt-3 mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }\n      }, \"Reason of Rejection\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 mt-4 mb-4 text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"mt-2 mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 15\n        }\n      }, \"Reason\"), /*#__PURE__*/React.createElement(\"textarea\", {\n        placeholder: \"\",\n        className: \"form-control\",\n        rows: \"4\",\n        style: {\n          resize: \"none\"\n        },\n        value: formFields.reason.value,\n        onChange: function onChange(e) {\n          return _this2._updateFieldValue(\"reason\", e.target.value);\n        },\n        onBlur: function onBlur() {\n          return _this2._markAsDirty(\"reason\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 17\n        }\n      }), formFields.reason.isDirty && !formFields.reason.isValid ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"form-error\",\n        style: {\n          paddingLeft: 'unset',\n          paddingTop: '8px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 19\n        }\n      }, \"Please enter the valid reason\") : null))), /*#__PURE__*/React.createElement(Button, {\n        color: \"danger\",\n        className: \"mr-4 mb-3\",\n        size: \"lg\",\n        onClick: this._report,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-check mr-1\",\n        style: {\n          marginTop: \"0.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }\n      }), \" \", \"Submit\"), /*#__PURE__*/React.createElement(Button, {\n        outline: true,\n        color: \"warning\",\n        className: \"mb-3\",\n        size: \"lg\",\n        onClick: function onClick() {\n          return _this2._dismiss();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-close mr-1\",\n        style: {\n          marginTop: \"0.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }\n      }), \" \", \"Cancel\")));\n    }\n  }]);\n\n  return RejectPayoutReasonModal;\n}(Component);\n\nexport default RejectPayoutReasonModal;","map":{"version":3,"sources":["/home/sanjay/Desktop/LS/React/Socialaffil-admin-UI/src/components/reject-payout-reason-modal.jsx"],"names":["React","Component","Button","Input","Modal","ModalBody","flagPost","SectionLoader","showToast","sleepTime","RejectPayoutReasonModal","state","isSubmitting","formFields","reason","value","isValid","isDirty","isLoaderActive","_dismiss","_resetState","props","onDismiss","_handleOutSideClick","setState","_markAsDirty","fieldName","length","_validateForm","_updateFieldValue","Promise","resolve","reject","isFormValid","Object","keys","forEach","index","_makeAllFieldDirty","_report","onSave","lastUpdatedData","_showLoader","_hideLoader","isVisible","resize","e","target","paddingLeft","paddingTop","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Input, Modal, ModalBody } from 'reactstrap';\nimport { flagPost } from \"../http/http-calls\";\nimport SectionLoader from \"./section-loader\";\nimport { showToast, sleepTime } from \"../helper-methods\";\n\n\nclass RejectPayoutReasonModal extends Component {\n  state = {\n    isSubmitting: false,\n    formFields: {\n      reason: {\n        value: \"\",\n        isValid: false,\n        isDirty: false\n      }\n    },\n    isLoaderActive: false,\n  };\n\n  _dismiss = () => {\n    this._resetState();\n    this.props.onDismiss();\n  };\n\n  _handleOutSideClick = () => {\n    const { isSubmitting } = this.state;\n    if (!isSubmitting) {\n      this._resetState();\n      this.props.onDismiss();\n    }\n  }\n\n  _resetState = () => {\n    this.setState({\n      isSubmitting: false,\n      formFields: {\n        reason: {\n          value: \"\",\n          isValid: false,\n          isDirty: false\n        }\n      },\n      isLoaderActive: false\n    });\n  }\n\n  _markAsDirty = fieldName => {\n    const { formFields } = this.state;\n    if (formFields[fieldName].value && formFields[fieldName].value.length) {\n      formFields[fieldName].isDirty = true;\n      this.setState({ formFields });\n      this._validateForm();\n    }\n  };\n\n  _updateFieldValue = (fieldName, value) => {\n    const { formFields } = this.state;\n    formFields[fieldName].value = value;\n    this.setState({ formFields });\n    if (formFields[fieldName].isDirty) {\n      // Validate\n      this._validateForm();\n    }\n  };\n\n  _validateForm = () => {\n    return new Promise((resolve, reject) => {\n      const { formFields } = this.state;\n    let isFormValid = true;\n    Object.keys(formFields).forEach((fieldName, index) => {\n      switch (fieldName) {\n       \n        case \"reason\": {\n          if (formFields.reason.value.length) {\n            formFields.reason.isValid = true;\n          } else {\n            formFields.reason.isValid = false;\n            isFormValid = false;\n          }\n          break;\n        }\n      }\n    });\n    this.setState({ formFields, isFormValid }, () => {\n      resolve();\n    });\n    });\n  };\n\n  _makeAllFieldDirty = () => {\n    const { formFields } = this.state;\n    Object.keys(formFields).forEach((fieldName, index) => {\n      formFields[fieldName].isDirty = true;\n    });\n    this.setState({formFields});\n  };\n\n  _report = async() => {\n    this._makeAllFieldDirty();\n        await this._validateForm();\n        const { formFields, isFormValid } = this.state;\n        if (isFormValid) {\n          this.props.onSave(this.state.formFields.reason.value, this.props.lastUpdatedData);\n          this._resetState();\n        }\n   \n  }\n\n//   _report = async (e=null) => {\n//     this._makeAllFieldDirty();\n//     await this._validateForm();\n//     const { formFields, isFormValid } = this.state;\n//     if (isFormValid) {\n//       try {\n//         this.setState({ isSubmitting: true });\n//         this._showLoader();\n//         const { feed } = this.props;\n//         console.log(\"TCL: _report -> feed\", feed)\n//         const { formFields } = this.state;\n//         const payload = {\n//           category: 'post',\n//           id: feed._id,\n//           subject: formFields.reason.value, \n//           reportedAgainst: feed._influencer\n//         };\n//         if (formFields.reason.value && formFields.reason.value.length) {\n//           payload['text'] = formFields.reason.value;\n//         } \n//         console.log('payload :', payload);\n//         await flagPost(payload);\n//         this.props.onSuccess();\n//         await sleepTime(400);\n//         this._resetState();\n//       } catch (error) {\n//         console.log('error :', error);\n//         this._hideLoader();\n//         showToast(\"Flagging failed\");\n//         this._resetState();\n//         this.props.onDismiss();\n//       }\n//     }\n//   };\n\n  _showLoader = () => {\n    this.setState({ isLoaderActive: true });\n  };\n\n  _hideLoader = () => {\n    this.setState({ isLoaderActive: false });\n  };\n\n  render() {\n    const { isVisible } = this.props;\n    const { isLoaderActive, formFields } = this.state;\n    \n    return (\n      <Modal\n        isOpen={isVisible}\n        toggle={() => this._handleOutSideClick()}\n        className=\"modal-dialog-centered\"\n      >\n        <ModalBody className=\"text-center\">\n          <SectionLoader\n            isActive={isLoaderActive}\n            loaderSize={30}\n            height={400}\n          />\n          <h2 className=\"mt-3 mb-4\">Reason of Rejection</h2>\n\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              \n              <div className=\"col-12 mt-4 mb-4 text-left\">\n              <h6 className=\"mt-2 mb-2\">Reason</h6>\n                {/* <h6 className=\"mt-2 mb-2\">Describe</h6> */}\n                <textarea\n                  placeholder=\"\"\n                  className=\"form-control\"\n                  rows=\"4\"\n                  style={{ resize: \"none\" }}\n                  value={formFields.reason.value}\n                  onChange={e =>\n                    this._updateFieldValue(\"reason\", e.target.value)\n                  }\n                  onBlur={() => this._markAsDirty(\"reason\")}\n                />\n                {formFields.reason.isDirty &&\n                !formFields.reason.isValid ? (\n                  <p \n                    className=\"form-error\"\n                    style={{\n                      paddingLeft: 'unset',\n                      paddingTop: '8px'\n                    }}\n                  >Please enter the valid reason</p>\n                ) : null}\n              </div>\n            </div>\n          </div>\n\n          <Button\n            color=\"danger\"\n            className=\"mr-4 mb-3\"\n            size=\"lg\"\n            onClick={this._report}\n          >\n            <i className=\"icon-check mr-1\" style={{ marginTop: \"0.5px\" }}></i>{\" \"}\n            Submit\n          </Button>\n\n          <Button\n            outline\n            color=\"warning\"\n            className=\"mb-3\"\n            size=\"lg\"\n            onClick={() => this._dismiss()}\n          >\n            <i className=\"icon-close mr-1\" style={{ marginTop: \"0.5px\" }}></i>{\" \"}\n            Cancel\n          </Button>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nexport default RejectPayoutReasonModal;\n"]},"metadata":{},"sourceType":"module"}